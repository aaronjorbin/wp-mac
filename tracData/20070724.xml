<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>WordPress Trac</title>
    <link>http://core.trac.wordpress.org/timeline</link>
    <description>Trac Timeline</description>
    <language>en-US</language>
    <generator>Trac 1.2.2</generator>
    <image>
      <title>WordPress Trac</title>
      <url>http://core.trac.wordpress.org/chrome/site/your_project_logo.png</url>
      <link>http://core.trac.wordpress.org/timeline</link>
    </image>
    <item>
      <title>Ticket #4045 (Large blogs fatal error in cache.php: extreme memory consumption on ...) reopened</title>
      
        <dc:creator>torbens</dc:creator>

      <pubDate>Tue, 24 Jul 2007 23:53:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4045#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4045#comment:2/1185321213000000</guid>
      <description>&lt;p&gt;
I'm not sure if this is related to a low memory quota for PHP only. My hoster allows for 32M and I'm experiencing the same problem.
&lt;/p&gt;
&lt;pre class="wiki"&gt;Fatal error: Allowed memory size of 33554432 bytes exhausted (tried to allocate 316105 bytes) in wp-includes/cache.php on line 48
&lt;/pre&gt;&lt;p&gt;
I wasn't even able to get the blog running again so far. As mentioned above, disabling the cache in wp-config.php doesn't have an effect at all:
&lt;/p&gt;
&lt;pre class="wiki"&gt;define('ENABLE_CACHE', false);
&lt;/pre&gt;&lt;p&gt;
Please also see the thread at: &lt;a class="ext-link" href="http://wordpress.org/support/topic/87413"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://wordpress.org/support/topic/87413&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>Changeset [5817]: Don't forget to filter post_category</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 24 Jul 2007 22:29:41 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/5817</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/5817/1185316181343056</guid>
      <description>&lt;p&gt;
Don't forget to filter post_category
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Changeset [5816]: fix FF bug in write screen: post status change on reload. Props ...</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 24 Jul 2007 21:40:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/5816</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/5816/1185313258402458</guid>
      <description>&lt;p&gt;
fix FF bug in write screen: post status change on reload. Props mdawaffe. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/4664" title="#4664: defect (bug): Reloading the post editing screen in Firefox turns a post from ... (closed: fixed)"&gt;#4664&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #4664 (Reloading the post editing screen in Firefox turns a post from ...) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 24 Jul 2007 21:40:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4664#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4664#comment:1/1185313258000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/5816" title="fix FF bug in write screen: post status change on reload. Props ..."&gt;[5816]&lt;/a&gt;) fix FF bug in write screen: post status change on reload. Props mdawaffe. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/4664" title="#4664: defect (bug): Reloading the post editing screen in Firefox turns a post from ... (closed: fixed)"&gt;#4664&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #4668 (Atom-PP service doc is formed according to version 09 of Atom-PP spec) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Tue, 24 Jul 2007 17:02:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4668#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4668#comment:1/1185296520000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4669 (Atom-PP implmenetation does not show draft entries) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:59:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4669#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4669#comment:1/1185296360000000</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4667 (Text alignment problem with TinyMCE ("style" attribute not allowed ...) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:57:51 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4667#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4667#comment:2/1185296271000000</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4505 (default theme's REQUEST_URI should be attribute_escape (d)) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:53:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4505#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4505#comment:8/1185296015000000</guid>
      <description>&lt;i&gt;Summary&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4670 (When updating a post via Atom-PP draft/published status is not handled ...) created</title>
      
        <dc:creator>placey</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:28:07 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4670</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4670/1185294487000000</guid>
      <description>&lt;p&gt;
When using APP, if a draft post is updated so as to no longer be a draft, that change is not detected and the post remains in draft state.  The problem is in the &lt;code&gt;put_post&lt;/code&gt; function in wp-app.php.  There is a section that reads as follows:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$publish = (isset($parsed-&amp;gt;draft) &amp;amp;&amp;amp; trim($parsed-&amp;gt;draft) == 'yes') ? false : true;
...
// let's not go backwards and make something draft again.
if(!$publish &amp;amp;&amp;amp; $post_status == 'draft') {
        $post_status = ($publish) ? 'publish' : 'draft';
}
&lt;/pre&gt;&lt;p&gt;
The negation of the &lt;code&gt;$publish&lt;/code&gt; variable in the if statement is incorrect (I think).  It should be:
&lt;/p&gt;
&lt;pre class="wiki"&gt;if($publish &amp;amp;&amp;amp; $post_status == 'draft') {
        $post_status = ($publish) ? 'publish' : 'draft';
}
&lt;/pre&gt;</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4669 (Atom-PP implmenetation does not show draft entries) created</title>
      
        <dc:creator>placey</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:19:12 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4669</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4669/1185293952000000</guid>
      <description>&lt;p&gt;
When requesting a feed from wp-app.php only published entries are shown.  The problem is in the &lt;code&gt;wa_posts_where_include_drafts_filter&lt;/code&gt; function.  The where clause that this function is expecting is &lt;code&gt;post_author = ([0-9]+) AND post_status != 'draft&lt;/code&gt; However, it is actually passed in  &lt;code&gt;AND (post_type = 'post' AND (post_status = 'publish'))&lt;/code&gt;.  Therefore, the &lt;code&gt;ereg_replace&lt;/code&gt; should be changed to:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$where = str_replace("AND (post_type = 'post' AND (post_status = 'publish'))", "AND post_type = 'post'", $where);
&lt;/pre&gt;&lt;p&gt;
or possibly even:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$where = "AND post_type = 'post'";
&lt;/pre&gt;&lt;p&gt;
Related to this function, but not this bug is that it should probably be the case that drafts are only visible to those who wrote them.  Therefore, the where clause should only be changed if the authenticated user has the right permissions, like so:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$cap = ($publish) ? 'publish_posts' : 'edit_posts';
if(!current_user_can($cap))
        $where = str_replace("AND (post_type = 'post' AND (post_status = 'publish'))", "AND post_type = 'post'", $where);
&lt;/pre&gt;</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4668 (Atom-PP service doc is formed according to version 09 of Atom-PP spec) created</title>
      
        <dc:creator>placey</dc:creator>

      <pubDate>Tue, 24 Jul 2007 16:04:19 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4668</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4668/1185293059000000</guid>
      <description>&lt;p&gt;
The Atom Publishing Protocol (APP) service document generated by wp-app.php reflects the APP spec as of version 09.  The latest spec is 17.  In particular, the workspace and collection elements should not have title attributes, the workspace should wrap an atom:title element, and the format of the accept element content has changed.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4667 (Text alignment problem with TinyMCE ("style" attribute not allowed ...) closed</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Tue, 24 Jul 2007 15:33:13 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4667#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4667#comment:1/1185291193000000</guid>
      <description>invalid: &lt;p&gt;
This is not a bug, it's intentional. Styles are not allowed for users without the unfiltered_html capability because they could use position:absolute styles and such and overwrite other elements of the page. Allowing style attributes is, in essence, a security risk.
&lt;/p&gt;
&lt;p&gt;
Now, if you have the unfiltered_html capability (as the admin user should), then you can add style attributes all you like. kses does not get invoked for users with unfiltered_html.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #4667 (Text alignment problem with TinyMCE ("style" attribute not allowed ...) created</title>
      
        <dc:creator>dreamer12345</dc:creator>

      <pubDate>Tue, 24 Jul 2007 15:02:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4667</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4667/1185289326000000</guid>
      <description>&lt;p&gt;
Hi,
&lt;/p&gt;
&lt;p&gt;
When writing / editing a post with TinyMCE, sometimes centering a text or an image can cause TinyMCE to generate this code:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;p style="text-align: center"&amp;gt;
&lt;/pre&gt;&lt;p&gt;
But WordPress 2.2.1 (I'm working with WordPress MU 1.2.3, I suppose this bug affects both versions) does not allow the use of the attribute "style" with the "p" tag, resulting in an impossibility to change the alignment of text / image (in the case where TinyMCE chooses to use the "style" attribute to do the alignment).
&lt;/p&gt;
&lt;p&gt;
I fixed this in my WordPress installation by allowing the "style" attribute with the "p" tag in the wp-includes/kses.php file.
&lt;/p&gt;
&lt;p&gt;
Thank you for your attention (sorry if this bug has already been reported),
&lt;/p&gt;
&lt;p&gt;
Frederic.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4654 (permalink_single_rss needs a filter) updated</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Tue, 24 Jul 2007 13:56:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4654#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4654#comment:8/1185285419000000</guid>
      <description>&lt;p&gt;
Added my patch suggestion. Sorry for the excessive whitespace changes in the patch, there's a lot of whitespace at the end of lines that my editor removes whenever I edit a PHP file.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>4654.diff attached to Ticket #4654</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Tue, 24 Jul 2007 13:51:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/4654/4654.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/4654/4654.diff/1185285118000000</guid>
      <description>&lt;p&gt;
Deprecate permalink_single_rss, replace with the_permalink_rss. Also adds the_permalink_rss filter.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #4666 (In WP backend, the 'View site' span needs its own ID) updated</title>
      
        <dc:creator>JeremyVisser</dc:creator>

      <pubDate>Tue, 24 Jul 2007 08:30:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4666#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4666#comment:1/1185265809000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>4666.diff attached to Ticket #4666</title>
      
        <dc:creator>JeremyVisser</dc:creator>

      <pubDate>Tue, 24 Jul 2007 08:29:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/4666/4666.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/4666/4666.diff/1185265787000000</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #4666 (In WP backend, the 'View site' span needs its own ID) created</title>
      
        <dc:creator>JeremyVisser</dc:creator>

      <pubDate>Tue, 24 Jul 2007 08:29:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4666</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4666/1185265773000000</guid>
      <description>&lt;p&gt;
In the code for each page within the WP backend, like so:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;h1&amp;gt;Jeremy Visser &amp;lt;span&amp;gt;(&amp;lt;a href="http://jeremy.sunriseroad.net/"&amp;gt;View site &amp;amp;raquo;&amp;lt;/a&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;/h1&amp;gt;
&lt;/pre&gt;&lt;p&gt;
It uses a &lt;code&gt;span&lt;/code&gt; to differentiate between the blog title and 'view site' link, in order to make it smaller.
&lt;/p&gt;
&lt;p&gt;
However, the &lt;a class="ext-link" href="http://trac.mu.wordpress.org/ticket/310"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;WordPress MU dashboard switcher&lt;/a&gt; (ported from WP.com) needs to use additional &lt;code&gt;span&lt;/code&gt;s in order to do its JavaScript magic, like so:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;h1&amp;gt;&amp;lt;span id="blog-title"&amp;gt;Jeremy Visser&amp;lt;/span&amp;gt;&amp;lt;span id="viewsite"&amp;gt;(&amp;lt;a href="http://jeremy.sunriseroad.net/"&amp;gt;View site &amp;amp;raquo;&amp;lt;/a&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;/h1&amp;gt;
&lt;/pre&gt;&lt;p&gt;
As you can see, it added the &lt;code&gt;id&lt;/code&gt; attribute to both the &lt;code&gt;span&lt;/code&gt;s it added. However, the CSS is like this:
&lt;/p&gt;
&lt;pre class="wiki"&gt;#wphead h1 span {
        font-size: .4em;
        letter-spacing: 0;
}
&lt;/pre&gt;&lt;p&gt;
Thus making the blog title and view site link small, which is ugly. So, you need the CSS to look like this (making it only select &lt;code&gt;#viewsite&lt;/code&gt;):
&lt;/p&gt;
&lt;pre class="wiki"&gt;#wphead h1 span#viewsite {
        font-size: .4em;
        letter-spacing: 0;
}
&lt;/pre&gt;&lt;p&gt;
...and add an &lt;code&gt;id&lt;/code&gt; to the &lt;code&gt;span&lt;/code&gt;:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;h1&amp;gt;Jeremy Visser &amp;lt;span id="viewsite"&amp;gt;(&amp;lt;a href="http://jeremy.sunriseroad.net/"&amp;gt;View site &amp;amp;raquo;&amp;lt;/a&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;/h1&amp;gt;
&lt;/pre&gt;&lt;p&gt;
Voilà.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4505 (default theme's REQUEST_URI should be attribute_escape (d)) updated</title>
      
        <dc:creator>rob1n</dc:creator>

      <pubDate>Tue, 24 Jul 2007 07:50:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4505#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4505#comment:7/1185263443000000</guid>
      <description>&lt;p&gt;
The 2.0.11 final will have it.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4654 (permalink_single_rss needs a filter) updated</title>
      
        <dc:creator>rob1n</dc:creator>

      <pubDate>Tue, 24 Jul 2007 07:49:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4654#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4654#comment:7/1185263383000000</guid>
      <description>&lt;p&gt;
That patch can be made a lot simpler, too, into one line.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4505 (default theme's REQUEST_URI should be attribute_escape (d)) updated</title>
      
        <dc:creator>Cimmo</dc:creator>

      <pubDate>Tue, 24 Jul 2007 07:46:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4505#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4505#comment:6/1185263202000000</guid>
      <description>&lt;p&gt;
So? 2.0.11rc3 still hasn't the fix
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4513 (fancy permalinks broken in IIS?) closed</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Tue, 24 Jul 2007 00:08:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4513#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4513#comment:4/1185235689000000</guid>
      <description>worksforme: &lt;p&gt;
Thanks snakefoot and RonDutt!
&lt;/p&gt;
&lt;p&gt;
Closing as "works for me" given those results. (Suspend plugin)
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #4665 (Optimize get_posts query) updated</title>
      
        <dc:creator>rob1n</dc:creator>

      <pubDate>Mon, 23 Jul 2007 23:33:28 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4665#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4665#comment:4/1185233608000000</guid>
      <description>&lt;p&gt;
+1. Patch looks good.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4506 ("Posts Tagged xxx" In Archives In Default Theme Doesn't Show Tag Name) updated</title>
      
        <dc:creator>gdevlugt</dc:creator>

      <pubDate>Mon, 23 Jul 2007 22:35:49 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4506#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4506#comment:5/1185230149000000</guid>
      <description>&lt;p&gt;
I added a patch for the single_cat_title() function in wp-includes/general-template.php.
&lt;/p&gt;
&lt;p&gt;
I haven't tested it fully but it seems to work.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>general-template.php.diff attached to Ticket #4506</title>
      
        <dc:creator>gdevlugt</dc:creator>

      <pubDate>Mon, 23 Jul 2007 22:31:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/4506/general-template.php.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/4506/general-template.php.diff/1185229907000000</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #4513 (fancy permalinks broken in IIS?) updated</title>
      
        <dc:creator>RonDutt</dc:creator>

      <pubDate>Mon, 23 Jul 2007 21:34:15 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4513#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4513#comment:3/1185226455000000</guid>
      <description>&lt;p&gt;
I can also confirm that /index.php/%year%/%monthnum%/%day%/%postname%/ as a permalink works fine with IIS on a Win2k3 and Win2k7 server.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4513 (fancy permalinks broken in IIS?) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Mon, 23 Jul 2007 21:23:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4513#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4513#comment:2/1185225815000000</guid>
      <description>&lt;p&gt;
snakefoot, thanks for following up on this! Where you able to try the exact example provided by Denis?
&lt;/p&gt;
&lt;p&gt;
Denis, surely you have expertise and interest to provide more detailed diagnostics. Do you not have the environment?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4665 (Optimize get_posts query) updated</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Mon, 23 Jul 2007 20:56:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4665#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4665#comment:3/1185224203000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>4665.diff attached to Ticket #4665</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Mon, 23 Jul 2007 20:56:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/4665/4665.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/4665/4665.diff/1185224170000000</guid>
      <description>&lt;p&gt;
Patch to eliminate distinct and group by from get_posts()
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #4513 (fancy permalinks broken in IIS?) updated</title>
      
        <dc:creator>snakefoot</dc:creator>

      <pubDate>Mon, 23 Jul 2007 20:38:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4513#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4513#comment:1/1185223100000000</guid>
      <description>&lt;p&gt;
Have WP 2.2.2 running on IIS with permalinks working.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4665 (Optimize get_posts query) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Mon, 23 Jul 2007 20:17:05 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4665#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4665#comment:2/1185221825000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
+1
&lt;/p&gt;
&lt;p&gt;
This looks like a good idea.
&lt;/p&gt;
&lt;p&gt;
Referring to &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2604" title="#2604: defect (bug): SQL Query Optimization (closed: fixed)"&gt;#2604&lt;/a&gt; and &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/3678" title="Some optimization of the post query.  #2604"&gt;[3678]&lt;/a&gt; the DISTINCT and GROUP BY went from query.php a while ago giving some performance improvement.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4665 (Optimize get_posts query) updated</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Mon, 23 Jul 2007 19:56:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4665#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4665#comment:1/1185220580000000</guid>
      <description>&lt;i&gt;Version&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4665 (Optimize get_posts query) created</title>
      
        <dc:creator>Otto42</dc:creator>

      <pubDate>Mon, 23 Jul 2007 19:51:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4665</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4665/1185220308000000</guid>
      <description>&lt;p&gt;
In post.php, in get_posts(), this is the main query built:
&lt;/p&gt;
&lt;pre class="wiki"&gt;	$query  = "SELECT DISTINCT * FROM $wpdb-&amp;gt;posts ";
	$query .= empty( $category ) ? '' : ", $wpdb-&amp;gt;term_relationships, $wpdb-&amp;gt;term_taxonomy  ";
	$query .= empty( $meta_key ) ? '' : ", $wpdb-&amp;gt;postmeta ";
	$query .= " WHERE 1=1 ";
	$query .= empty( $post_type ) ? '' : "AND post_type = '$post_type' ";
	$query .= empty( $post_status ) ? '' : "AND post_status = '$post_status' ";
	$query .= "$exclusions $inclusions " ;
	$query .= empty( $category ) ? '' : "AND ($wpdb-&amp;gt;posts.ID = $wpdb-&amp;gt;term_relationships.object_id AND $wpdb-&amp;gt;term_relationships.term_taxonomy_id = $wpdb-&amp;gt;term_taxonomy.term_taxonomy_id AND $wpdb-&amp;gt;term_taxonomy.term_id = " . $category. ") ";
	$query .= empty( $post_parent ) ? '' : "AND $wpdb-&amp;gt;posts.post_parent = '$post_parent' ";
	$query .= empty( $meta_key ) | empty($meta_value)  ? '' : " AND ($wpdb-&amp;gt;posts.ID = $wpdb-&amp;gt;postmeta.post_id AND $wpdb-&amp;gt;postmeta.meta_key = '$meta_key' AND $wpdb-&amp;gt;postmeta.meta_value = '$meta_value' )";
	$query .= " GROUP BY $wpdb-&amp;gt;posts.ID ORDER BY " . $orderby . ' ' . $order;
	if ( 0 &amp;lt; $numberposts )
		$query .= " LIMIT " . $offset . ',' . $numberposts;
&lt;/pre&gt;&lt;p&gt;
The two things I'm curious about are the DISTINCT and the GROUP BY clauses. Neither one seems to be actually necessary.
&lt;/p&gt;
&lt;p&gt;
DISTINCT would eliminate duplicate rows. However, because it's selecting from $wpdb-&amp;gt;posts (and not joining to itself), no duplicate rows are possible here.
&lt;/p&gt;
&lt;p&gt;
GROUP BY the posts-&amp;gt;ID is useless, since the ID is the primary key, and unique.
&lt;/p&gt;
&lt;p&gt;
While I don't know if this has any real performance impact, it's certainly ripe for trimming and testing. I cut those out on my site a while back and have not noticed anything strange happening.
&lt;/p&gt;
&lt;p&gt;
Change the query to this:
&lt;/p&gt;
&lt;pre class="wiki"&gt;	$query  = "SELECT * FROM $wpdb-&amp;gt;posts ";
... unchanged stuff ...
	$query .= " ORDER BY " . $orderby . ' ' . $order;
... unchanged stuff ...
&lt;/pre&gt;&lt;p&gt;
Seems to work fine for me. And, in theory, should provide a speedup. The last thing we want is extra unnecessary load on the database.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4664 (Reloading the post editing screen in Firefox turns a post from ...) created</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Mon, 23 Jul 2007 14:36:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4664</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4664/1185201417000000</guid>
      <description>&lt;p&gt;
Reloading the post editing screen in Firefox turns a post from Published to Private
&lt;/p&gt;
&lt;p&gt;
ENV: trunk (2.3) &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/5815" title="Recalculate counts"&gt;r5815&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
Bug &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/3895" title="#3895: defect (bug): Reloading the post editing screen in Firefox turns a post from ... (closed: fixed)"&gt;#3895&lt;/a&gt; is back. My guess is this was re-introduced by the addition of "Pending Review" to the Post Status selector &lt;br /&gt;
&lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/4446" title="#4446: enhancement: Support for &amp;#34;pending review&amp;#34; posts (closed: fixed)"&gt;#4446&lt;/a&gt;: Support for "pending review" posts
&lt;/p&gt;
&lt;p&gt;
ADDITIONAL DETAILS
&lt;/p&gt;
&lt;p&gt;
Bug &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/3895" title="#3895: defect (bug): Reloading the post editing screen in Firefox turns a post from ... (closed: fixed)"&gt;#3895&lt;/a&gt; is back, not reopening that bug b/c it is not in a released version of WordPres
&lt;/p&gt;
&lt;p&gt;
Discovered this bug on WordPress.com .
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #4663 (cannot load plugin) updated</title>
      
        <dc:creator>foolswisdom</dc:creator>

      <pubDate>Mon, 23 Jul 2007 13:50:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4663#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4663#comment:1/1185198645000000</guid>
      <description>&lt;i&gt;Version&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #4663 (cannot load plugin) created</title>
      
        <dc:creator>mrwizard</dc:creator>

      <pubDate>Mon, 23 Jul 2007 05:00:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/4663</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/4663/1185166856000000</guid>
      <description>&lt;p&gt;
---&amp;gt; Using WP v2.2.1  the newest build as of 7/20/2007
&lt;/p&gt;
&lt;p&gt;
Some plugins use wp-admin/options.php to update their parameter settings.
&lt;/p&gt;
&lt;p&gt;
Paths to the plugin folder get changed via a urlencode function in this file.   So a plugin options file located at...
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
wp-content/pluginName/plugin-options.php
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
gets changed to...
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
wp-content/pluginName2Fplugin-options.php
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
and the admin.php file errors this out with a message...
&lt;/p&gt;
&lt;p&gt;
CANNOT LOAD  pluginName2Fplugin-options.php
&lt;/p&gt;
&lt;p&gt;
The problem is in the wp-admin/options.php file around about line 112.
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
$goback = preg_replace('|[&lt;sup&gt;a-z0-9-~+_.?#=&amp;amp;;,/:]|i', &lt;em&gt;, $goback);
&lt;/em&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
needs to be changed to...
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
$goback = preg_replace('|[&lt;sup&gt;a-z0-9-~+_.?#=&amp;amp;;,/:%]|i', &lt;em&gt;, $goback);
&lt;/em&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
(note the addition of the % symbol)
&lt;/p&gt;
&lt;p&gt;
This change keeps the %2F in the path instead of just 2F.
&lt;/p&gt;
&lt;p&gt;
Perhaps there's another way.... but this worked for me.  If you guys know a better way, please let me know.
&lt;/p&gt;
&lt;p&gt;
Tim
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item>
   </channel>
</rss>