<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>WordPress Trac</title>
    <link>http://core.trac.wordpress.org/timeline</link>
    <description>Trac Timeline</description>
    <language>en-US</language>
    <generator>Trac 1.2.2</generator>
    <image>
      <title>WordPress Trac</title>
      <url>http://core.trac.wordpress.org/chrome/site/your_project_logo.png</url>
      <link>http://core.trac.wordpress.org/timeline</link>
    </image>
    <item>
      <title>Ticket #34820 (Expand users table user_pass field from 64 to 255 characters) created</title>
      
        <dc:creator>toddlahman</dc:creator>

      <pubDate>Mon, 30 Nov 2015 23:42:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34820</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34820/1448926967963038</guid>
      <description>&lt;p&gt;
I'd like to suggest expanding the users table user_pass field from 64 to 255 characters to allow the PHP &amp;gt;= 5.5 password_hash() function PASSWORD_DEFAULT option to generate a character string up to 255 characters as new and strong algorithms are added. This would allow plugins that override the default password hashing functions to not be limited to the PASSWORD_BCRYPT option going forward. Would really like to see this in WordPress 4.4.
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="http://php.net/manual/en/function.password-hash.php"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;http://php.net/manual/en/function.password-hash.php&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #31071 (media / post_mime_type related queries are very slow on larger sites) updated</title>
      
        <dc:creator>jamesmehorter</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:47:17 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/31071#comment:28</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/31071#comment:28/1448923637484701</guid>
      <description>&lt;p&gt;
Thanks for pointing that out @archon810! Would you agree that a patch for this ticket should then contain:
&lt;/p&gt;
&lt;p&gt;
1) The post_type, post_mime_type index added the way @pento suggested (&lt;a href="https://core.trac.wordpress.org/ticket/31071#comment:7"&gt;https://core.trac.wordpress.org/ticket/31071#comment:7&lt;/a&gt;)
&lt;/p&gt;
&lt;p&gt;
2) The addition of "AND post_status = 'inherit'" to the months query. I see 3 variations on that query:
wp-admin/export.php:134, wp-admin/includes/class-wp-list-table.php:563, and wp-includes/media.php:3213
&lt;/p&gt;
&lt;p&gt;
3) If agreeable, I'd like to also add a caching layer around each of the audio, video, and months queries.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>34819.after.png attached to Ticket #34819</title>
      
        <dc:creator>SergeyBiryukov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:12:24 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34819/34819.after.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34819/34819.after.png/1448921544841479</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>34819.patch attached to Ticket #34819</title>
      
        <dc:creator>SergeyBiryukov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:11:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34819/34819.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34819/34819.patch/1448921507306897</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>34819.wp43.png attached to Ticket #34819</title>
      
        <dc:creator>SergeyBiryukov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:11:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34819/34819.wp43.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34819/34819.wp43.png/1448921476749021</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>34819.trunk.png attached to Ticket #34819</title>
      
        <dc:creator>SergeyBiryukov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:10:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34819/34819.trunk.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34819/34819.trunk.png/1448921435121770</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34819 (Decrease margin for headings in install.css) created</title>
      
        <dc:creator>SergeyBiryukov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 22:09:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34819</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34819/1448921360868413</guid>
      <description>&lt;p&gt;
Minor thing, but I think the margin for headings added/changed in &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/35508" title="Adjust heading structure for pages using wp-admin/css/install.css
The ..."&gt;[35508]&lt;/a&gt; is too big.
&lt;/p&gt;
&lt;p&gt;
See the screenshots.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #16075 (Add Post Type Archives support in Nav Menus) updated</title>
      
        <dc:creator>DrewAPicture</dc:creator>

      <pubDate>Mon, 30 Nov 2015 21:34:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16075#comment:119</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16075#comment:119/1448919288790792</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/16075#comment:118" title="Comment 118"&gt;nacin&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
I think this string should just be 'Archive', not 'Post Type Archive'.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Do you think switching to the generic "Archive" string might generate future confusion if we ever add term archive or other archive support though? Or would all of the above then be considered "Archive"?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34813 (PHP Warnings in debug.log - strip_tags() expects parameter 1 to be string) closed</title>
      
        <dc:creator>johnbillion</dc:creator>

      <pubDate>Mon, 30 Nov 2015 21:28:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34813#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34813#comment:3/1448918894657303</guid>
      <description>invalid: &lt;p&gt;
Confirmed. This is an issue caused by Contact Form 7.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #34704 (Install: Use new colors for error notices) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Mon, 30 Nov 2015 20:57:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34704#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34704#comment:6/1448917065444124</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
This should use the alternate styling of notices, see &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/32244" title="#32244: enhancement: Introduce notice class for notices that are on a white background (closed: fixed)"&gt;#32244&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34704 (Install: Use new colors for error notices) updated</title>
      
        <dc:creator>duaneblake</dc:creator>

      <pubDate>Mon, 30 Nov 2015 20:48:18 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34704#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34704#comment:5/1448916498889039</guid>
      <description>&lt;p&gt;
I've tested the patch in a few browsers and the error message now follow the format on the other pages.  Screen shots above.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>34704-screenshots.png attached to Ticket #34704</title>
      
        <dc:creator>duaneblake</dc:creator>

      <pubDate>Mon, 30 Nov 2015 20:46:21 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34704/34704-screenshots.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34704/34704-screenshots.png/1448916381293224</guid>
      <description>&lt;p&gt;
Screenshot of different browsers
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #33407 (Theme tags overhaul) updated</title>
      
        <dc:creator>davewarfel</dc:creator>

      <pubDate>Mon, 30 Nov 2015 18:20:29 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/33407#comment:15</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/33407#comment:15/1448907629024495</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/33407#comment:14" title="Comment 14"&gt;grapplerulrich&lt;/a&gt;:
&lt;/p&gt;
&lt;p&gt;
Thanks Ulrich. I'm new to helping out with contributions to core, so this might be a silly question, but I was more curious how I could go about submitting a patch to change the code for the API. Similar to how we submitted patches for the &lt;code&gt;/wp-admin/includes/theme.php&lt;/code&gt; file here.
&lt;/p&gt;
&lt;p&gt;
I was able to find documentation on how to download the latest WordPress core code from svn and create a patch, but I can't find something similar for the API code. Or is the API code not available publicly?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34796 (Facing an issue when using wp_remote_get with streams (non-blocking mode)) updated</title>
      
        <dc:creator>bangelov</dc:creator>

      <pubDate>Mon, 30 Nov 2015 17:44:27 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34796#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34796#comment:3/1448905467677411</guid>
      <description>&lt;p&gt;
Hi @rmccue Thanks for your attention! I've tried the above code using stream_select but unfortunately it doesn't work on wpengine.com That is the main environment that I am using for the test, because I can reproduce the problem there. I've tested it with timeout 50, 500, 5000, 500000 and it stuck the same way as it was without stream_select. The only way I was able to made successful request was with usleep. Yes it's a bit of a hack but I am out of ideas what could be the problem. Btw I've dumped the response from stream_select and it's true so that function runs properly, but it doesn't prevent stuck problem. Do you have any other idea what we could try? Thanks!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #31071 (media / post_mime_type related queries are very slow on larger sites) updated</title>
      
        <dc:creator>archon810</dc:creator>

      <pubDate>Mon, 30 Nov 2015 17:41:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/31071#comment:27</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/31071#comment:27/1448905318680266</guid>
      <description>&lt;p&gt;
I'm a fan of multi-column indexes and use them whenever possible, but it's not so simple in complex applications because order matters in multi-column indexes, and crafting a single index is usually not possible unless all the queries are relatively simple and use the same fields in a similar manner.
&lt;/p&gt;
&lt;p&gt;
The art of index creation is very delicate and sometimes just flipping the order of two columns in an index can result in a 10x performance gain, even though you thought the original index was already pretty awesome.
&lt;/p&gt;
&lt;p&gt;
I wish a single multi-column index would be a panacea for all trouble related to query optimization, but you will soon find that it's not the case, otherwise everyone would just include that index by default.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #31071 (media / post_mime_type related queries are very slow on larger sites) updated</title>
      
        <dc:creator>jamesmehorter</dc:creator>

      <pubDate>Mon, 30 Nov 2015 17:32:41 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/31071#comment:26</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/31071#comment:26/1448904761614821</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Hi everyone,
&lt;/p&gt;
&lt;p&gt;
I created a new multi-column index for post_type and post_mime_type as done by @archon810; and I can confirm A) the audio and video queries are now blazing fast. And B) per @pento's request I also tested adding a post_status clause in the months query; the addition of the post_status clause does indeed ensure the query utilizes the type_status_date index (not the new mime type index) and does not require a filesort. However, please note that the filesort was used even before the new index was added. That query is simply able to run without a filesort when a post_status clause is present. Regardless of what we do with indexes that query should be optimized to include a post_status clause and a caching layer.
&lt;/p&gt;
&lt;pre class="wiki"&gt;mysql  Ver 14.14 Distrib 5.5.46, for debian-linux-gnu (i686) using readline 6.2
mysql&amp;gt; alter table wp_14_posts add index type_mime (post_type, post_mime_type);
mysql&amp;gt; show indexes from wp_14_posts;
+-------------+------------+------------------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| Table       | Non_unique | Key_name         | Seq_in_index | Column_name    | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+-------------+------------+------------------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| wp_14_posts |          0 | PRIMARY          |            1 | ID             | A         |     2111190 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_status_date |            1 | post_type      | A         |          14 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_status_date |            2 | post_status    | A         |          14 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_status_date |            3 | post_date      | A         |     1055595 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_status_date |            4 | ID             | A         |     2111190 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | post_parent      |            1 | post_parent    | A         |      301598 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | post_author      |            1 | post_author    | A         |          14 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | post_name        |            1 | post_name      | A         |     2111190 |      191 | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_mime        |            1 | post_type      | A         |         165 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | type_mime        |            2 | post_mime_type | A         |         165 |     NULL | NULL   |      | BTREE      |         |               |
+-------------+------------+------------------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
mysql&amp;gt; EXPLAIN SELECT DISTINCT YEAR( post_date ) AS year, MONTH( post_date ) AS month FROM wp_14_posts WHERE post_type = 'attachment' ORDER BY post_date DESC;
+----+-------------+-------------+------+----------------------------+------------------+---------+-------+--------+-----------------------------------------------------------+
| id | select_type | table       | type | possible_keys              | key              | key_len | ref   | rows   | Extra                                                     |
+----+-------------+-------------+------+----------------------------+------------------+---------+-------+--------+-----------------------------------------------------------+
|  1 | SIMPLE      | wp_14_posts | ref  | type_status_date,type_mime | type_status_date | 82      | const | 969628 | Using where; Using index; Using temporary; Using filesort |
+----+-------------+-------------+------+----------------------------+------------------+---------+-------+--------+-----------------------------------------------------------+
mysql&amp;gt; EXPLAIN SELECT DISTINCT YEAR( post_date ) AS year, MONTH( post_date ) AS month FROM wp_14_posts WHERE post_type = 'attachment' AND post_status = 'inherit' ORDER BY post_date DESC;
+----+-------------+-------------+------+----------------------------+------------------+---------+-------------+--------+-------------------------------------------+
| id | select_type | table       | type | possible_keys              | key              | key_len | ref         | rows   | Extra                                     |
+----+-------------+-------------+------+----------------------------+------------------+---------+-------------+--------+-------------------------------------------+
|  1 | SIMPLE      | wp_14_posts | ref  | type_status_date,type_mime | type_status_date | 164     | const,const | 969628 | Using where; Using index; Using temporary |
+----+-------------+-------------+------+----------------------------+------------------+---------+-------------+--------+-------------------------------------------+
&lt;/pre&gt;&lt;p&gt;
That said, I think this may be the wrong direction for this ticket.. hear me out :)
&lt;/p&gt;
&lt;p&gt;
Our current index setup is not intuitive or performant. We've got a mix of single-column indexes and multi-column indexes, which do not include some commonly used columnsâ€”ideally we should have an index for any column used in a where or order by statement.
&lt;/p&gt;
&lt;p&gt;
As shown with the issue above (mysql using the wrong index), we're relying on mysql's index merge optimization to choose which indexes it can use instead of structuring our posts table in a way that instructs mysql.
&lt;/p&gt;
&lt;p&gt;
This may be slightly radical.. but what if we considered replacing all of our current indexes with one, single multi-column index. I've tested this structure, and it speeds up the queries mentioned here (including the months query).. and probably many more. Doing so would requires no changes to any queries as @pento pointed out (though these should still be adjusted to include a post_status clause as mentioned above). And using a single multi-column index has been proven to be quicker than multiple indexes (&lt;a class="ext-link" href="https://www.percona.com/blog/2014/01/03/multiple-column-index-vs-multiple-indexes-with-mysql-56/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;https://www.percona.com/blog/2014/01/03/multiple-column-index-vs-multiple-indexes-with-mysql-56/&lt;/a&gt;).
&lt;/p&gt;
&lt;p&gt;
The only downside I can see is the time it would take to build the new index during an update routine. I clocked the index creation on a table with 2.2m posts at 1min (code/output below). And during that time reads and writes are blocked by default. However, since mysql 5.6 the add index command can be instructed to operate asynchronously, allowing reads and writes while the index is created with the algorithm and lock arguments (&lt;a class="ext-link" href="http://stackoverflow.com/a/21842589/655837"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;http://stackoverflow.com/a/21842589/655837&lt;/a&gt;).
&lt;/p&gt;
&lt;p&gt;
Thoughts? Once we agree on an approach I'm happy to help supply some patches.
&lt;/p&gt;
&lt;pre class="wiki"&gt;mysql&amp;gt; alter table wp_14_posts add index posts (ID, post_author, post_date, post_status, comment_status, ping_status, post_name, post_modified, post_parent, menu_order, post_type, post_mime_type, comment_count);
Query OK, 0 rows affected, 2 warnings (1 min 1.33 sec)
Records: 0  Duplicates: 0  Warnings: 2
mysql&amp;gt; show indexes from wp_14_posts;
+-------------+------------+----------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| Table       | Non_unique | Key_name | Seq_in_index | Column_name    | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+-------------+------------+----------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| wp_14_posts |          0 | PRIMARY  |            1 | ID             | A         |     1697812 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            1 | ID             | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            2 | post_author    | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            3 | post_date      | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            4 | post_status    | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            5 | comment_status | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            6 | ping_status    | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            7 | post_name      | A         |         186 |      191 | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            8 | post_modified  | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |            9 | post_parent    | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |           10 | menu_order     | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |           11 | post_type      | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |           12 | post_mime_type | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
| wp_14_posts |          1 | posts    |           13 | comment_count  | A         |         186 |     NULL | NULL   |      | BTREE      |         |               |
+-------------+------------+----------+--------------+----------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34804 (Updates to readme.txt files of Bundled Themes for 4.4) updated</title>
      
        <dc:creator>davidakennedy</dc:creator>

      <pubDate>Mon, 30 Nov 2015 14:07:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34804#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34804#comment:6/1448892421625980</guid>
      <description>&lt;p&gt;
Sounds good, thanks @Otto42!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #33407 (Theme tags overhaul) updated</title>
      
        <dc:creator>grapplerulrich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 13:39:02 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/33407#comment:14</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/33407#comment:14/1448890742931319</guid>
      <description>&lt;p&gt;
@davewarfel The ticket for the API is &lt;a class="ext-link" href="https://meta.trac.wordpress.org/ticket/1187"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;https://meta.trac.wordpress.org/ticket/1187&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34817 (Add a new image size detection function) updated</title>
      
        <dc:creator>joemcgill</dc:creator>

      <pubDate>Mon, 30 Nov 2015 13:03:24 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34817#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34817#comment:3/1448888604527784</guid>
      <description>&lt;p&gt;
The fourth parameter in &lt;code&gt;wp_get_attachment_image_sr()&lt;/code&gt; is already in WordPress, but it was just undocumented until 4.4.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #32075 (Only set WP_MAX_MEMORY_LIMIT by default when its greater than memory_limit) updated</title>
      
        <dc:creator>A5hleyRich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 12:55:05 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/32075#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/32075#comment:3/1448888105401859</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Implemented suggestions by @nacin. &lt;code&gt;WP_MAX_MEMORY_LIMIT&lt;/code&gt; is set to &lt;code&gt;memory_limit&lt;/code&gt; if greater than php.ini &lt;code&gt;memory_limit&lt;/code&gt;. New function &lt;code&gt;wp_raise_memory_limit()&lt;/code&gt; added which sets the limit and allows the value to be filtered (can only be raised).
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>32075.diff attached to Ticket #32075</title>
      
        <dc:creator>A5hleyRich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 12:51:15 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/32075/32075.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/32075/32075.diff/1448887875257341</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34164 (Error during installation at step 1 - Undefined index: host) updated</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Mon, 30 Nov 2015 12:45:04 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34164#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34164#comment:8/1448887504579319</guid>
      <description>&lt;p&gt;
Thanks for the feedback @jeremyfelt.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34794 (CURLOPT_SSL_VERIFYHOST should be set to 2 or not be set at all) updated</title>
      
        <dc:creator>FriendlyGreg</dc:creator>

      <pubDate>Mon, 30 Nov 2015 11:58:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34794#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34794#comment:10/1448884713928586</guid>
      <description>&lt;p&gt;
@rmccue, the script you mentioned won't reveal the problem except in the case of connecting back locally to the same server, but in that specific case, yes, it replicates the issue exactly as described. Under both 10.10.5 with Server 5.0.15 and 10.11.1 with Server 5.0.15 -- both plain vanilla, and running PHP 5.5.29 in both cases -- the behaviour is identical. Having already verified this with a plugin that makes test calls to &lt;code&gt;wp_remote_get()&lt;/code&gt; and &lt;code&gt;wp_remote_post()&lt;/code&gt; before submitting the report, I have now also verified the same using your script -- both dropped into a plugin to ensure the WP environment is up and running and simply calling the script directly. Again, the behaviour is as I have described, failing with &lt;code&gt;SSLRead() return error -9841&lt;/code&gt;; comment out the &lt;code&gt;CURLOPT_SSL_VERIFYHOST&lt;/code&gt;, and everything works as expected.
&lt;/p&gt;
&lt;p&gt;
As far as I can tell, here's the explanation for what's going on...
&lt;/p&gt;
&lt;p&gt;
Contrary to my suggestion earlier that &lt;code&gt;CURLOPT_SSL_VERIFYHOST&lt;/code&gt; is not active unless set, you're exactly right that it is set by default. The reason that commenting out the &lt;code&gt;CURLOPT_SSL_VERIFYHOST&lt;/code&gt; line makes the problem go away is &lt;em&gt;not&lt;/em&gt; that it prevents &lt;code&gt;CURLOPT_SSL_VERIFYHOST&lt;/code&gt; from being active; on the contrary, the reason it makes the problem go away is that it &lt;em&gt;ensures&lt;/em&gt; &lt;code&gt;CURLOPT_SSL_VERIFYHOST&lt;/code&gt; &lt;em&gt;is&lt;/em&gt; active, with a value of 2. When I was testing on a live server using a trusted certificate, that is why everything went smoothly. It was only when I did a separate test with an untrusted certificate that the real problem was revealed (and the clue was your having looked up the specific meaning of the returned error code): on OS X, we receive that error message back, but apparently we don't receive back the rest of the results. Since the code appears to have been meant to be advisory rather than fatal, I'm not sure whether this is a PHP problem or an oversight in Darwin.
&lt;/p&gt;
&lt;p&gt;
So the bad news is that the original bug remains: if the user has shut off local verification in WordPress (e.g., because they're using a self-signed certificate) and the server has shut off RC4 support, then local connections will fail under Server 5 on either 10.10 or 10.11. (Whether it's ultimately 'blamed' on PHP or on Apple, from a WordPress user's perspective, it doesn't matter: the connection doesn't work.)
&lt;/p&gt;
&lt;p&gt;
The good news, however, is that restoring local verification will solve the problem. For those users like me who only shut it off in the first place because WordPress 4.3 introduced problems for Server 4 when it incorrectly set CAINFO, we can switch it back on when running Server 5, and bunnies are happy everywhere.
&lt;/p&gt;
&lt;p&gt;
(Edit: See correction in comment 13 below on why it was initially necessary to shut off local verification.)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34813 (PHP Warnings in debug.log - strip_tags() expects parameter 1 to be string) updated</title>
      
        <dc:creator>MattyRob</dc:creator>

      <pubDate>Mon, 30 Nov 2015 11:25:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34813#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34813#comment:2/1448882732010230</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Same user posted on main forums about this issue in relation to Contact Form 7 plugin
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="https://wordpress.org/support/topic/php-errors-logged-in-debuglog?replies=1"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;https://wordpress.org/support/topic/php-errors-logged-in-debuglog?replies=1&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
Seems to be a plugin issue.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #19879 (Better caching for get_dirsize) updated</title>
      
        <dc:creator>A5hleyRich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 10:13:36 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/19879#comment:18</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/19879#comment:18/1448878416042163</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #19879 (Better caching for get_dirsize) updated</title>
      
        <dc:creator>A5hleyRich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 10:12:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/19879#comment:17</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/19879#comment:17/1448878320409537</guid>
      <description>&lt;p&gt;
Supplied patch removes transient timeout as suggested by @nacin. However, instead of purging the entire cache the &lt;code&gt;dirsize_cache&lt;/code&gt; transient now caches each directory like so:
&lt;/p&gt;
&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;Array&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2013&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2013&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mo"&gt;01&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;486873&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2919469&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;34562447&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;37968789&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;42142973&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;
When &lt;code&gt;wp_handle_upload()&lt;/code&gt; or &lt;code&gt;wp_delete_attachment()&lt;/code&gt; are called only the directories that are effected are purged. For example if we upload &lt;code&gt;wp-content/uploads/2015/11/test.png&lt;/code&gt; the &lt;code&gt;_transient_dirsize_cache&lt;/code&gt; becomes:
&lt;/p&gt;
&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;Array&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2013&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2013&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mo"&gt;01&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2082994&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;486873&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;wp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;uploads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2919469&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;
This ensures that only the changed directories are checked when &lt;code&gt;get_dirsize&lt;/code&gt; is called. Still needs unit tests, but wanted to get feedback before doing any more work on this patch.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>19879.diff attached to Ticket #19879</title>
      
        <dc:creator>A5hleyRich</dc:creator>

      <pubDate>Mon, 30 Nov 2015 10:04:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/19879/19879.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/19879/19879.diff/1448877851546839</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) closed</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 09:50:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818#comment:5/1448877056966986</guid>
      <description>fixed: &lt;p&gt;
In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/35750" title="REST API: Unabbreviate error string.
Props daniel-koskinen.
Fixes #34818.
"&gt;35750&lt;/a&gt;:
&lt;/p&gt;
&lt;div class="message"&gt;&lt;p&gt;
REST API: Unabbreviate error string.&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;
Props daniel-koskinen.&lt;br /&gt;
Fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/34818" title="#34818: defect (bug): Unnecessary abbreviated error message string in has_valid_params() (closed: fixed)"&gt;#34818&lt;/a&gt;.&lt;br /&gt;
&lt;/p&gt;
&lt;/div&gt;</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [35750]: REST API: Unabbreviate error string.  Props daniel-koskinen. Fixes #34818. </title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 09:50:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/35750</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/35750/1448877056036210</guid>
      <description>&lt;p&gt;
REST API: Unabbreviate error string.
&lt;/p&gt;
&lt;p&gt;
Props daniel-koskinen.
Fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/34818" title="#34818: defect (bug): Unnecessary abbreviated error message string in has_valid_params() (closed: fixed)"&gt;#34818&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 09:41:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818#comment:4/1448876505193829</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
&lt;a class="ext-link" href="https://wordpress.slack.com/archives/core-restapi/p1448876354000709"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Checked with Petya&lt;/a&gt;, and we're good to change the string. Since this is a new one in 4.4, no qualms from my end with changing it.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 09:37:49 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818#comment:3/1448876269922283</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Note that we are in soft string freeze currently, so this may need to wait until 4.5. Need feedback from a polyglot team member here.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) updated</title>
      
        <dc:creator>swissspidy</dc:creator>

      <pubDate>Mon, 30 Nov 2015 09:13:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818#comment:2/1448874806962461</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) updated</title>
      
        <dc:creator>slackbot</dc:creator>

      <pubDate>Mon, 30 Nov 2015 08:25:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818#comment:1/1448871920780119</guid>
      <description>&lt;p&gt;
&lt;em&gt;This ticket was mentioned in &lt;a class="ext-link" href="https://make.wordpress.org/chat/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Slack&lt;/a&gt; in #core-restapi by danielck. &lt;a class="ext-link" href="https://wordpress.slack.com/archives/core-restapi/p1448871918000704"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;View the logs&lt;/a&gt;.&lt;/em&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>class-wp-rest-request.php.diff attached to Ticket #34818</title>
      
        <dc:creator>Daniel Koskinen</dc:creator>

      <pubDate>Mon, 30 Nov 2015 08:24:36 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34818/class-wp-rest-request.php.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34818/class-wp-rest-request.php.diff/1448871876954704</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34818 (Unnecessary abbreviated error message string in has_valid_params()) created</title>
      
        <dc:creator>Daniel Koskinen</dc:creator>

      <pubDate>Mon, 30 Nov 2015 08:24:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34818</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34818/1448871850490585</guid>
      <description>&lt;p&gt;
As mentioned on #core-restapi, commenting as a #polyglot here: while translating, @samikeijonen and  @zuige noted that the error message for the &lt;code&gt;has_valid_params&lt;/code&gt; function in &lt;code&gt;wp-includes/rest-api/class-wp-rest-request.php&lt;/code&gt; is &lt;code&gt;__( 'Invalid param.' )&lt;/code&gt;. The included patch fixes this.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #26386 (Add fixed full screen background option to custom backgrounds) updated</title>
      
        <dc:creator>slackbot</dc:creator>

      <pubDate>Mon, 30 Nov 2015 06:39:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/26386#comment:15</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/26386#comment:15/1448865584547098</guid>
      <description>&lt;p&gt;
&lt;em&gt;This ticket was mentioned in &lt;a class="ext-link" href="https://make.wordpress.org/chat/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Slack&lt;/a&gt; in #core by swissspidy. &lt;a class="ext-link" href="https://wordpress.slack.com/archives/core/p1448865582002752"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;View the logs&lt;/a&gt;.&lt;/em&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34381 (verify_peer_name should be set for stream_context_create()) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 06:34:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34381#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34381#comment:2/1448865254730694</guid>
      <description>&lt;p&gt;
I'm 90% certain we want to set this to &lt;code&gt;false&lt;/code&gt; all the time, as we implement the common-name checking ourselves via &lt;code&gt;WP_HTTP_Streams::verify_ssl_certificate&lt;/code&gt; for compatibility reasons (specifically, so that we have this behaviour on &amp;lt;5.6).
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34796 (Facing an issue when using wp_remote_get with streams (non-blocking mode)) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 06:06:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34796#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34796#comment:2/1448863595989609</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34796 (Facing an issue when using wp_remote_get with streams (non-blocking mode)) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 06:06:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34796#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34796#comment:1/1448863570438118</guid>
      <description>&lt;p&gt;
A timeout is a bit of a hack; attached a patch that uses &lt;code&gt;select&lt;/code&gt; to wait for the socket to be ready for writing to. Right now, this is hardcoded to wait 50Âµs, but might need to be bumped higher; I can't reproduce this locally to determine a reasonable amount.
&lt;/p&gt;
&lt;p&gt;
On my box that can't reproduce it, this adds 30Âµs of overhead, which is negligible.
&lt;/p&gt;
&lt;p&gt;
@bangelov Can you try this out, and try bumping the &lt;code&gt;50&lt;/code&gt; up to see if this fixes your issue? I'd try up to &lt;code&gt;100000&lt;/code&gt; (0.1s). We want to keep this as low as possible (since it's a timeout), but high enough to allow a bit of waiting.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>34796.diff attached to Ticket #34796</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 05:57:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34796/34796.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34796/34796.diff/1448863064038962</guid>
      <description>&lt;p&gt;
Wait for socket to be ready before writing to it
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34817 (Add a new image size detection function) updated</title>
      
        <dc:creator>simonrcodrington</dc:creator>

      <pubDate>Mon, 30 Nov 2015 05:16:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34817#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34817#comment:2/1448860595725956</guid>
      <description>&lt;p&gt;
Hey there @joemcgill
&lt;/p&gt;
&lt;p&gt;
Thanks for the reply.
&lt;/p&gt;
&lt;p&gt;
I think using &lt;code&gt;image_get_intermediate_size()&lt;/code&gt; and checking for false would be the easiest way to do what I want (I just thought it might make more sense to have it's own function).
&lt;/p&gt;
&lt;p&gt;
The link you sent through looks pretty interesting as it seems you can use &lt;code&gt;wp_get_attachment_image_src()&lt;/code&gt; to detect if a passed back image is actually not the full size (as this was actually another reason why I wanted to double check the existence of set sizes).
&lt;/p&gt;
&lt;p&gt;
I think that one is due for release in WP 4.4?
&lt;/p&gt;
&lt;p&gt;
Simon
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #33407 (Theme tags overhaul) updated</title>
      
        <dc:creator>davewarfel</dc:creator>

      <pubDate>Mon, 30 Nov 2015 05:15:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/33407#comment:13</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/33407#comment:13/1448860506018420</guid>
      <description>&lt;p&gt;
I believe line 261 might also need to be deleted, but wasn't confident enough to patch it myself.
&lt;/p&gt;
&lt;pre class="wiki"&gt;'Colors'   =&amp;gt; __( 'Colors' ),
&lt;/pre&gt;&lt;p&gt;
In addition, it looks like this file &lt;code&gt;wp-admin/includes/theme.php&lt;/code&gt; is first pulling theme tags from the WordPress.org API, and only using the code in this file as a backup if the API call fails.
&lt;/p&gt;
&lt;p&gt;
How do we go about getting the Theme API updated?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>33407.2.patch attached to Ticket #33407</title>
      
        <dc:creator>davewarfel</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:59:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/33407/33407.2.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/33407/33407.2.patch/1448859546817821</guid>
      <description>&lt;p&gt;
Fixed typo for the label of the "holiday" Subject Tag
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34794 (CURLOPT_SSL_VERIFYHOST should be set to 2 or not be set at all) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:31:34 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34794#comment:9</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34794#comment:9/1448857894206047</guid>
      <description>&lt;p&gt;
FWIW, cannot replicate this on OSX 10.10 or 10.11 using &lt;a class="ext-link" href="https://gist.github.com/rmccue/64e6a89e900cbe33d7eb"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;this script&lt;/a&gt;. This is using &lt;code&gt;self-signed.badssl.com&lt;/code&gt;, not a loopback connection, but &lt;a class="ext-link" href="https://www.ssllabs.com/ssltest/analyze.html?d=self-signed.badssl.com"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;per SSL Labs&lt;/a&gt; doesn't have RC4 enabled either. Can you try this script and see if it replicates the issue for you please? :)
&lt;/p&gt;
&lt;p&gt;
(Per &lt;code&gt;curl_version()&lt;/code&gt;, this is &lt;code&gt;SecureTransport x86_64-apple-darwin14.0&lt;/code&gt; (i.e. OSX built-in), cURL 7.43.0.)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #20523 (Disable autoloader when using class_exists()) closed</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:14:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20523#comment:11</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20523#comment:11/1448856872150545</guid>
      <description>fixed: &lt;p&gt;
In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/35749" title="Do not pass FALSE as second parameter in variable class_exists() ..."&gt;35749&lt;/a&gt;:
&lt;/p&gt;
&lt;div class="message"&gt;&lt;p&gt;
Do not pass FALSE as second parameter in variable class_exists() checks&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;
Because these are generally plugin-provided, we want plugins to be&lt;br /&gt;
able to use autoloaders.&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;
fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/20523" title="#20523: enhancement: Disable autoloader when using class_exists() (closed: fixed)"&gt;#20523&lt;/a&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;/div&gt;</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [35749]: Do not pass FALSE as second parameter in variable class_exists() ...</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:14:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/35749</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/35749/1448856871177458</guid>
      <description>&lt;p&gt;
Do not pass FALSE as second parameter in variable class_exists() checks
&lt;/p&gt;
&lt;p&gt;
Because these are generally plugin-provided, we want plugins to be
able to use autoloaders.
&lt;/p&gt;
&lt;p&gt;
fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/20523" title="#20523: enhancement: Disable autoloader when using class_exists() (closed: fixed)"&gt;#20523&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #20523 (Disable autoloader when using class_exists()) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:14:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20523#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20523#comment:10/1448856860356175</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
@nacin reviewed.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>20523-revert.2.diff attached to Ticket #20523</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 04:07:02 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/20523/20523-revert.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/20523/20523-revert.2.diff/1448856422905304</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #16075 (Add Post Type Archives support in Nav Menus) reopened</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:43:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16075#comment:118</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16075#comment:118/1448855017899251</guid>
      <description>&lt;p&gt;
I think this string should just be 'Archive', not 'Post Type Archive'.
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>Ticket #34794 (CURLOPT_SSL_VERIFYHOST should be set to 2 or not be set at all) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:43:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34794#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34794#comment:8/1448855015653828</guid>
      <description>&lt;p&gt;
(&lt;a class="ext-link" href="https://github.com/guzzle/guzzle/issues/478"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Related issue&lt;/a&gt; from Guzzle.)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #20523 (Disable autoloader when using class_exists()) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:43:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20523#comment:9</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20523#comment:9/1448854986365496</guid>
      <description>&lt;p&gt;
&lt;a class="attachment" href="http://core.trac.wordpress.org/attachment/ticket/20523/20523-revert.diff" title="Attachment '20523-revert.diff' in Ticket #20523"&gt;20523-revert.diff&lt;/a&gt;&lt;a class="trac-rawlink" href="http://core.trac.wordpress.org/raw-attachment/ticket/20523/20523-revert.diff" title="Download"&gt;â€‹&lt;/a&gt; reverts the completely variable instances.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>20523-revert.diff attached to Ticket #20523</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:38:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/20523/20523-revert.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/20523/20523-revert.diff/1448854736106213</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34817 (Add a new image size detection function) updated</title>
      
        <dc:creator>joemcgill</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:35:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34817#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34817#comment:1/1448854506687332</guid>
      <description>&lt;p&gt;
Hi @simonrcodrington,
&lt;/p&gt;
&lt;p&gt;
I believe &lt;code&gt;image_get_intermediate_size()&lt;/code&gt; might already provide what you're suggesting. If you pass in an attachment ID and size name that doesn't exist, the function will return false.
&lt;/p&gt;
&lt;p&gt;
Alternately, this sounds similar to the issue addressed in &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/33905" title="#33905: defect (bug): Include fourth array parameter in return value doc block for ... (closed: fixed)"&gt;#33905&lt;/a&gt;. In that case, the solution was to check for a (previously undocumented) fourth parameter on the array returned from &lt;code&gt;wp_get_attachment_image_src&lt;/code&gt; to make sure the image being returned was an intermediate size instead of the fallback 'full' size.
&lt;/p&gt;
&lt;p&gt;
Would either of these options work for your use case?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #33694 (Capability missing for editing scheduled posts created by one self ...) updated</title>
      
        <dc:creator>helen</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:30:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/33694#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/33694#comment:5/1448854222881276</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #20523 (Disable autoloader when using class_exists()) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:29:54 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20523#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20523#comment:8/1448854194807732</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
I think we should only be doing this for hardcoded class checks. Not variable ones.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #20523 (Disable autoloader when using class_exists()) reopened</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:26:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20523#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20523#comment:7/1448853966093876</guid>
      <description>&lt;p&gt;
Are we concerned that this will break things, per @westonruter's comment?
&lt;/p&gt;
&lt;p&gt;
I don't see how &lt;code&gt;class_exists()&lt;/code&gt; is being used in the wrong way here.
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>Ticket #34698 (HTML-Embed code JavaScript error.) updated</title>
      
        <dc:creator>Viper007Bond</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:10:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34698#comment:37</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34698#comment:37/1448853022588737</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/34698#comment:30" title="Comment 30"&gt;dd32&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
It sounds like you're parsing shortcodes inside of &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tags, which you probably shouldn't do :)
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Well then WordPress is to blame as I'm using core functions, just with only my shortcodes temporarily registered (I restore the normal list when I'm done).
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34794 (CURLOPT_SSL_VERIFYHOST should be set to 2 or not be set at all) updated</title>
      
        <dc:creator>rmccue</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:03:40 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34794#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34794#comment:7/1448852620457358</guid>
      <description>&lt;p&gt;
&lt;code&gt;false&lt;/code&gt; is an acceptable value for this option, and there's &lt;a class="ext-link" href="https://github.com/php/php-src/blob/250938e2d35fc54161a18167b7901c5e3b574371/ext/curl/tests/bug63363.phpt"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;a test that verifies this&lt;/a&gt;. The cURL extension in PHP &lt;a class="ext-link" href="https://github.com/php/php-src/blob/250938e2d35fc54161a18167b7901c5e3b574371/ext/curl/interface.c#L2022-L2032"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;checks only&lt;/a&gt; for &lt;code&gt;1&lt;/code&gt;/&lt;code&gt;false&lt;/code&gt;, and other values are passed through to cURL directly (as the &lt;code&gt;long&lt;/code&gt; value).
&lt;/p&gt;
&lt;p&gt;
From checking the cURL source, I'm not sure the description here matches the actual behaviour. As far as I can tell, &lt;a class="ext-link" href="https://github.com/bagder/curl/blob/4f037367ed69b77e14953fe88d8c0497782c0aab/lib/vtls/darwinssl.c#L1278-L1323"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;peer verification&lt;/a&gt; and &lt;a class="ext-link" href="https://github.com/bagder/curl/blob/4f037367ed69b77e14953fe88d8c0497782c0aab/lib/vtls/darwinssl.c#L1340-L1360"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;host verification&lt;/a&gt; are completely separate.
&lt;/p&gt;
&lt;p&gt;
The &lt;a class="ext-link" href="https://github.com/bagder/curl/blob/40c349ada92865faadd0de92fa5dc0d50ba67eb3/lib/url.c#L543-L548"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;default value&lt;/a&gt; for both peer and host verification is &lt;code&gt;2&lt;/code&gt; (&lt;code&gt;true&lt;/code&gt; &lt;a class="ext-link" href="https://github.com/bagder/curl/blob/40c349ada92865faadd0de92fa5dc0d50ba67eb3/lib/url.c#L2024-L2027"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;internally though&lt;/a&gt;), so we do need to disable it if verification is turned off.
&lt;/p&gt;
&lt;p&gt;
Per &lt;a class="ext-link" href="https://developer.apple.com/library/mac/documentation/Security/Reference/secureTransportRef/#//apple_ref/c/econst/errSSLServerAuthCompleted"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Apple's docs&lt;/a&gt;, the returned error code just means the certificate was ignored, so this looks like it might actually be a cURL issue in the DarwinSSL layer.
&lt;/p&gt;
&lt;p&gt;
What's the exact OSX version (10.10 or 10.11, presumably)? Did you compile cURL/PHP yourself, or are you using a pre-built version?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34794 (CURLOPT_SSL_VERIFYHOST should be set to 2 or not be set at all) updated</title>
      
        <dc:creator>slackbot</dc:creator>

      <pubDate>Mon, 30 Nov 2015 03:02:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34794#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34794#comment:6/1448852564158972</guid>
      <description>&lt;p&gt;
&lt;em&gt;This ticket was mentioned in &lt;a class="ext-link" href="https://make.wordpress.org/chat/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;Slack&lt;/a&gt; in #core by rmccue. &lt;a class="ext-link" href="https://wordpress.slack.com/archives/core/p1448852561002741"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;View the logs&lt;/a&gt;.&lt;/em&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34817 (Add a new image size detection function) created</title>
      
        <dc:creator>simonrcodrington</dc:creator>

      <pubDate>Sun, 29 Nov 2015 23:15:28 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34817</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34817/1448838928803652</guid>
      <description>&lt;p&gt;
Hi there,
&lt;/p&gt;
&lt;p&gt;
Currently if you need to see if a custom image size exists for an image you need to call &lt;code&gt;get_image_sizes&lt;/code&gt; and pass in your image id. This returns either the the applicable information for that image size or false.
&lt;/p&gt;
&lt;p&gt;
I think a better approach would be to have a function such as &lt;code&gt;images_size_exists()&lt;/code&gt; which just detects if that size exists for a given image id and returns true or false.
&lt;/p&gt;
&lt;p&gt;
When using &lt;code&gt;wp_get_attachment_image_src&lt;/code&gt; for example, you pass in your desired size, e.g 'large'. If the size you passed in doesn't exist for the image it will choose an applicable similar image such as the 'full' size. If there was a function like &lt;code&gt;images_size_exists()&lt;/code&gt; it would let you conditionally target based on if sizes exist.
&lt;/p&gt;
&lt;p&gt;
I'm pretty keen on potentially adding this as a feature if it's not being worked on by anyone else?
&lt;/p&gt;
&lt;p&gt;
Thoughts guys?
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #34816 (Theme Delete Button: (Prevent this page from creating additional dialogs)) updated</title>
      
        <dc:creator>afercia</dc:creator>

      <pubDate>Sun, 29 Nov 2015 23:09:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34816#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34816#comment:1/1448838582594654</guid>
      <description>&lt;p&gt;
Testing this, after I checked "Prevent this page..." in the JS alert, the "Delete" button still worked pretty well for me the first time I clicked on it: the theme got deleted without any warning :(
&lt;/p&gt;
&lt;p&gt;
After that, the "Delete" button stopped working. Though preventing JS alert is a temporary browser setting that only lasts for the current browser session (at least in Chrome, close the browser tab, reopen, go in the same page and alerts work again), the unintentional theme deletion should be definitely avoided.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #20299 (Preview changes on a published post makes all post meta "live") updated</title>
      
        <dc:creator>adamsilverstein</dc:creator>

      <pubDate>Sun, 29 Nov 2015 22:23:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20299#comment:55</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20299#comment:55/1448835835132120</guid>
      <description>&lt;p&gt;
&lt;a class="attachment" href="http://core.trac.wordpress.org/attachment/ticket/20299/20299.2.diff" title="Attachment '20299.2.diff' in Ticket #20299"&gt;20299.2.diff&lt;/a&gt;&lt;a class="trac-rawlink" href="http://core.trac.wordpress.org/raw-attachment/ticket/20299/20299.2.diff" title="Download"&gt;â€‹&lt;/a&gt;
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Clean up docs
&lt;/li&gt;&lt;li&gt;Removed unused 'DOING_PREVIEW' constant
&lt;/li&gt;&lt;li&gt;This patch is pretty simple, the bulk of the functionality is in the wp-post-meta-revisions plugin
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
Note, requires the the &lt;a class="ext-link" href="https://wordpress.org/plugins/wp-post-meta-revisions/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;wp-post-meta-revisions&lt;/a&gt; plugin.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>20299.2.diff attached to Ticket #20299</title>
      
        <dc:creator>adamsilverstein</dc:creator>

      <pubDate>Sun, 29 Nov 2015 22:21:05 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/20299/20299.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/20299/20299.2.diff/1448835665239987</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #20299 (Preview changes on a published post makes all post meta "live") updated</title>
      
        <dc:creator>adamsilverstein</dc:creator>

      <pubDate>Sun, 29 Nov 2015 22:04:18 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/20299#comment:54</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/20299#comment:54/1448834658410751</guid>
      <description>&lt;p&gt;
&lt;a class="attachment" href="http://core.trac.wordpress.org/attachment/ticket/20299/20299.diff" title="Attachment '20299.diff' in Ticket #20299"&gt;20299.diff&lt;/a&gt;&lt;a class="trac-rawlink" href="http://core.trac.wordpress.org/raw-attachment/ticket/20299/20299.diff" title="Download"&gt;â€‹&lt;/a&gt; :
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Refresh against trunk
&lt;/li&gt;&lt;li&gt;Use factory for post creation in unit test
&lt;/li&gt;&lt;/ul&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>20299.diff attached to Ticket #20299</title>
      
        <dc:creator>adamsilverstein</dc:creator>

      <pubDate>Sun, 29 Nov 2015 22:03:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/20299/20299.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/20299/20299.diff/1448834591742097</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Screen Shot 2015-11-29 at 14.07.10.png attached to Ticket #34816</title>
      
        <dc:creator>emiluzelac</dc:creator>

      <pubDate>Sun, 29 Nov 2015 21:18:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34816/Screen%20Shot%202015-11-29%20at%2014.07.10.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34816/Screen%20Shot%202015-11-29%20at%2014.07.10.png/1448831923327283</guid>
      <description>&lt;p&gt;
Delete button
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Screen Shot on 2015-11-29 at 14-36-00.png attached to Ticket #34816</title>
      
        <dc:creator>emiluzelac</dc:creator>

      <pubDate>Sun, 29 Nov 2015 21:18:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34816/Screen%20Shot%20on%202015-11-29%20at%2014-36-00.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34816/Screen%20Shot%20on%202015-11-29%20at%2014-36-00.png/1448831905883375</guid>
      <description>&lt;p&gt;
Prevent this page from creating additional dialogs
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34816 (Theme Delete Button: (Prevent this page from creating additional dialogs)) created</title>
      
        <dc:creator>emiluzelac</dc:creator>

      <pubDate>Sun, 29 Nov 2015 21:17:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34816</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34816/1448831830554136</guid>
      <description>&lt;p&gt;
Hey all,
&lt;/p&gt;
&lt;p&gt;
Not sure if this is something you guys are willing to improve, but it might be worth looking at it.
&lt;/p&gt;
&lt;p&gt;
So here's the story.
&lt;/p&gt;
&lt;p&gt;
When you delete more than one theme in a row, some browsers will offer you this alert box, where you can check "Prevent this page from creating additional dialogs".
&lt;/p&gt;
&lt;p&gt;
Once this is checked, a theme delete button no longer works.
&lt;/p&gt;
&lt;p&gt;
After talking to @swissspidy we realized that this is a browser feature and from what I could gather online, it affects Chrome and Firefox as well.
&lt;/p&gt;
&lt;p&gt;
Attaching screenshots.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>21730.02.patch attached to Ticket #21730</title>
      
        <dc:creator>imath</dc:creator>

      <pubDate>Sun, 29 Nov 2015 21:17:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/21730/21730.02.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/21730/21730.02.patch/1448831820255413</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #21730 (More modular and reusable email validation functions) updated</title>
      
        <dc:creator>imath</dc:creator>

      <pubDate>Sun, 29 Nov 2015 21:16:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/21730#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/21730#comment:5/1448831798599693</guid>
      <description>&lt;p&gt;
Hi everyone,
&lt;/p&gt;
&lt;p&gt;
I agree with @boonebgorges &amp;amp; @johnjamesjacoby. A bit like in &lt;a class="assigned ticket" href="http://core.trac.wordpress.org/ticket/17904" title="#17904: defect (bug): Multisite has more restrictions on user login character set (assigned)"&gt;#17904&lt;/a&gt; (which in a way tries to make username validation very similar between regular and ms WordPress), i think it would be nice to have the "ms email checks" available for regular WordPress config.
&lt;/p&gt;
&lt;p&gt;
I can't think of a good reason explaining why a regular config can't restrict registration according to email domains for instance.
&lt;/p&gt;
&lt;p&gt;
So 21730.02.patch is a suggestion to bring the email restrictions into regular configs and to be able to use the functions Boone suggested no matter the WordPress configuration in use.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Tickets #33699,â€‹34815 batch updated</title>
      
        <dc:creator>swissspidy</dc:creator>

      <pubDate>Sun, 29 Nov 2015 20:25:23 GMT</pubDate>
      <link>http://core.trac.wordpress.org/query?id=33699%2C34815</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/query?id=33699%2C34815/1448828723137832</guid>
      <description>duplicate: &lt;p&gt;
This has already been fixed, see &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/34108" title="#34108: defect (bug): WordPress 4.3.1 password reset on user form submit (closed: duplicate)"&gt;#34108&lt;/a&gt; and &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/33699" title="#33699: defect (bug): Hidden password input fields should default to disabled=&amp;#34;disabled&amp;#34; (closed: fixed)"&gt;#33699&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>batchmodify</category>
    </item><item>
      <title>Ticket #34164 (Error during installation at step 1 - Undefined index: host) updated</title>
      
        <dc:creator>jeremyfelt</dc:creator>

      <pubDate>Sun, 29 Nov 2015 18:29:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34164#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34164#comment:7/1448821777203757</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Thanks for the patch @perezlabs. We'll want to keep the comparison between the site's host and the host being parsed. If one is available, it needs to be checked properly. See &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/28865" title="Avoid a PHP notice and warning on language selection screen.
props ..."&gt;[28865]&lt;/a&gt; for an example approach. If the host is available, check it. If the host is not available, assume it is an external URL.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #31790 (sanitize_title_with_dashes() has issues with non breaking space ...) updated</title>
      
        <dc:creator>polevaultweb</dc:creator>

      <pubDate>Sun, 29 Nov 2015 16:19:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/31790#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/31790#comment:2/1448813954296169</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>31790.diff attached to Ticket #31790</title>
      
        <dc:creator>polevaultweb</dc:creator>

      <pubDate>Sun, 29 Nov 2015 16:18:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/31790/31790.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/31790/31790.diff/1448813925586634</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34815 (Password automatically changes after editing user profile.) created</title>
      
        <dc:creator>quoctrung2610</dc:creator>

      <pubDate>Sun, 29 Nov 2015 16:10:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34815</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34815/1448813430556860</guid>
      <description>&lt;p&gt;
This happens in the latest version 4.3.1
&lt;/p&gt;
&lt;p&gt;
Everytime an user change their profile, though he doesn't click on generate a password, the new password automatically generated and saved.
&lt;/p&gt;
&lt;p&gt;
Is there anyone has the same issue and know how to fix this, or if you can show me how to disable password auto generation, it would be great.
&lt;/p&gt;
&lt;p&gt;
Thank you.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #34800 (Canonical 301 redirects go to request origin instead of site_url) updated</title>
      
        <dc:creator>sevcsik</dc:creator>

      <pubDate>Sun, 29 Nov 2015 12:22:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34800#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34800#comment:3/1448799763264369</guid>
      <description>&lt;p&gt;
Ignore the first two diffs - I realised my test setup was wrong, and in fact it causes infinite redirects.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34811 (Preview Changes adds a new ?t= to url each time) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sun, 29 Nov 2015 10:11:36 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34811#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34811#comment:2/1448791896983238</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/34811#comment:1" title="Comment 1"&gt;swissspidy&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
Wonder why that workaround is needed.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
See &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/18341" title="#18341: defect (bug): Previewing posts causes saves and updates to freeze in Safari 5.1 (closed: fixed)"&gt;#18341&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34811 (Preview Changes adds a new ?t= to url each time) updated</title>
      
        <dc:creator>swissspidy</dc:creator>

      <pubDate>Sun, 29 Nov 2015 09:54:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34811#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34811#comment:1/1448790879854927</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Can confirm this using trunk. Wonder why that workaround is needed.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34813 (PHP Warnings in debug.log - strip_tags() expects parameter 1 to be string) updated</title>
      
        <dc:creator>swissspidy</dc:creator>

      <pubDate>Sun, 29 Nov 2015 09:50:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34813#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34813#comment:1/1448790647861675</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Hey there
&lt;/p&gt;
&lt;p&gt;
Thanks for your report! Can you give us some more information?
&lt;/p&gt;
&lt;p&gt;
This warning doesn't necessarily mean it's a bug in WordPress, as this is most likely caused by a plugin or theme. Can you try disabling all plugins and switch to one of the default themes and see if this still happens?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34722 (Open P Tag in shortcode related to h tag) updated</title>
      
        <dc:creator>BackuPs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 07:44:54 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34722#comment:14</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34722#comment:14/1448783094516798</guid>
      <description>&lt;p&gt;
Hi
&lt;/p&gt;
&lt;p&gt;
Thank you for the feedback and extra info as that is really appreciated. The example given was simplified to narrow down the issue and pin it to the shortcode processor within the wordpress code.
&lt;/p&gt;
&lt;p&gt;
Our real shortcode is much more complicated and has more shortcodes within the shortcode even nested ones of the same type.
&lt;/p&gt;
&lt;p&gt;
I think i might be better of for now leaving the p tag open. However it would be a great plus if the wordpress team fixes this ones and for all. Especially given the fact how long this 'bug' is already existing in the wp core files.
&lt;/p&gt;
&lt;p&gt;
I will try your solution though on the more simple shortcodes we are using and also apply the do_shortcode to the content first in order to see what happens when shortcodes have shortcodes within the content.
&lt;/p&gt;
&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;theme_shortcode_div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$atts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$code&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;wpautop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nx"&gt;do_shortcode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$content&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;div class="theme-div"&amp;gt;'&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$content&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;'&amp;lt;/div&amp;gt;'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nx"&gt;add_shortcode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'theme_div'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'theme_shortcode_div'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;
I can imagine that that will cause many issues though. The open p-tag should not have been there at all in the first place. But that we already agreed upon.
&lt;/p&gt;
&lt;p&gt;
Have a nice weekend ! &amp;amp; Thanks again for the feedback
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34722 (Open P Tag in shortcode related to h tag) updated</title>
      
        <dc:creator>StephenCronin</dc:creator>

      <pubDate>Sun, 29 Nov 2015 07:18:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34722#comment:13</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34722#comment:13/1448781538955571</guid>
      <description>&lt;p&gt;
I've looked into this a little further and it's complicated.
&lt;/p&gt;
&lt;p&gt;
Shortcode content has wpautop applied to it, then shortcode_unautop applied to it which undoes the wpautop changes. But in this case, shortcode_unautop doesn't roll back all the changes made in wpautop.
&lt;/p&gt;
&lt;p&gt;
The wpautop function has one line which adds "a single line break above block-level opening tags" and another line which adds "a double line break below block-level closing tags". If I comment out those lines, I get this:
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;&amp;lt;div class="theme-div"&amp;gt;&amp;lt;h3&amp;gt;This is the test heading&amp;lt;/h3&amp;gt; This is the test body &amp;lt;/div&amp;gt;&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
So they are the lines which are behind the extra br and the unclosed p tag. They are necessary for non shortcode content, but they should be rolled back for shortcodes by shortcode_unautop and it's not currently doing that. I'm not a Regex ninja, so I'm not sure how to change shortcode_unautop to do this.
&lt;/p&gt;
&lt;p&gt;
But....
&lt;/p&gt;
&lt;p&gt;
Turns out there are quite a few tickets out there about shortcodes and wpautop, which are at least related to this (if not exactly the same). &lt;a href="https://core.trac.wordpress.org/ticket/14050"&gt;One of them&lt;/a&gt; is 5 years old and has a patch. &lt;a href="https://core.trac.wordpress.org/ticket/6984"&gt;This one&lt;/a&gt; is 8 years old and is "slated for 4.5 Milestone" as part of @miqrogroove 's &lt;a class="ext-link" href="https://make.wordpress.org/core/2015/10/08/shortcode-roadmap-draft-three/"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;roadmap proposal&lt;/a&gt; for an alternative shortcode syntax.
&lt;/p&gt;
&lt;p&gt;
So, I would expect this to get fixed at some point, maybe 4.5, but as part of the larger reworking of shortcodes.
&lt;/p&gt;
&lt;p&gt;
In the meantime, it's hacky, but you could use this:
&lt;/p&gt;
&lt;pre class="wiki"&gt;function theme_shortcode_div( $atts, $content = null, $code ) {
	$content = str_replace( '&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;', '', wpautop( $content) );
	return '&amp;lt;div class="theme-div"&amp;gt;' . $content . '&amp;lt;/div&amp;gt;';
}
add_shortcode( 'theme_div', 'theme_shortcode_div' );
&lt;/pre&gt;&lt;p&gt;
This applies wpautop to the shortcode content, adding the missing closing p tag and converting the br tag to &lt;code&gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&lt;/code&gt; and then manually strips that out.
&lt;/p&gt;
&lt;p&gt;
Of course, you probably want to test that to make sure it works for you. It should fix this particular problem, but may cause other problems with different markup in the shortcode content - I haven't tested it with anything else.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34814 (Presence of "Less than sign" &lt; adds additional closing shortcode tag.) created</title>
      
        <dc:creator>alexander.rohmann</dc:creator>

      <pubDate>Sun, 29 Nov 2015 06:31:24 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34814</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34814/1448778684386073</guid>
      <description>&lt;p&gt;
If a &lt;code&gt;&amp;lt;&lt;/code&gt; is used in shortcode content without a reciprocating &lt;code&gt;&amp;gt;&lt;/code&gt; the shortcode closing tag will be duplicated. This was introduced in 4.2.3 as part of &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/33360" title="Shortcodes: Improve the reliablity of shortcodes inside HTML tags.
 ..."&gt;[33360]&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
For example, assuming &lt;code&gt;[my_shortcode]&lt;/code&gt; simply returns it's content. This...
&lt;code&gt;[my_shortcode]One &amp;lt; Two[/my_shortcode]&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
Should output this:
&lt;code&gt;One &amp;lt; Two&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
But instead, we get this:
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;One &amp;lt; Two[/my_shortcode]&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
Consequently, a unit test somewhat like this won't pass:
&lt;/p&gt;
&lt;pre class="wiki"&gt;array(
    '[caption]Hello &amp;lt; World[/caption]',
    'Hello &amp;lt; World'
)
&lt;/pre&gt;&lt;p&gt;
I'm not 100% sure, but I suspect it's due to this regex:
&lt;a href="https://core.trac.wordpress.org/browser/branches/4.2/src/wp-includes/shortcodes.php?rev=33360#L346"&gt;https://core.trac.wordpress.org/browser/branches/4.2/src/wp-includes/shortcodes.php?rev=33360#L346&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
By continuing to match all input, perhaps that also grabs the shortcode's closing tag, causing it to be duplicated.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #34164 (Error during installation at step 1 - Undefined index: host) updated</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 05:25:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34164#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34164#comment:6/1448774759071882</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>34164.diff attached to Ticket #34164</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 05:24:17 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34164/34164.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34164/34164.diff/1448774657563660</guid>
      <description>&lt;p&gt;
Added a simple patch based on the solution of @ramonxd and it works well.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34808 (Deprecate get_media_embedded_in_content() and get_tag_regex()) updated</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 05:02:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34808#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34808#comment:3/1448773342607175</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34808 (Deprecate get_media_embedded_in_content() and get_tag_regex()) updated</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 04:42:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34808#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34808#comment:2/1448772152472363</guid>
      <description>&lt;p&gt;
@azaozzâ€‚I just uploaded a patch, I hope it's useful.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>34808.2.diff attached to Ticket #34808</title>
      
        <dc:creator>perezlabs</dc:creator>

      <pubDate>Sun, 29 Nov 2015 04:41:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34808/34808.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34808/34808.2.diff/1448772076698449</guid>
      <description>&lt;p&gt;
Added NOTICE or WARNING when any of the functions used. But they are still available until they are completely removed.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>canonical.php.2.diff attached to Ticket #34800</title>
      
        <dc:creator>sevcsik</dc:creator>

      <pubDate>Sun, 29 Nov 2015 03:45:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34800/canonical.php.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34800/canonical.php.2.diff/1448768759994977</guid>
      <description>&lt;p&gt;
canonical.php to use site_url host instead of original host (git diff version)
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>canonical.php.diff attached to Ticket #34800</title>
      
        <dc:creator>sevcsik</dc:creator>

      <pubDate>Sun, 29 Nov 2015 03:29:28 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/34800/canonical.php.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/34800/canonical.php.diff/1448767768537341</guid>
      <description>&lt;p&gt;
canonical.php to use site_url host instead of original host
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #34800 (Canonical 301 redirects go to request origin instead of site_url) updated</title>
      
        <dc:creator>sevcsik</dc:creator>

      <pubDate>Sun, 29 Nov 2015 03:27:49 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34800#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34800#comment:2/1448767669544116</guid>
      <description>&lt;p&gt;
@johnbillion, thanks for the response.
&lt;/p&gt;
&lt;p&gt;
According to CloudFront docs &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/1" title="New repository initialized by cvs2svn."&gt;[1]&lt;/a&gt;, the requests to the origin server are sent with a host "set the value to the domain name of the origin that is associated with the requested object." Which is in line of my general (albeit maybe shallow) understanding of how CDNs work.
&lt;/p&gt;
&lt;p&gt;
Regardless of my setup, I think using &lt;code&gt;site_url()&lt;/code&gt; would be more consistent with the way WordPress handles absolute URLs in general. Template functions, such as &lt;code&gt;get_stylesheet_directory_uri&lt;/code&gt;, or the login redirection in &lt;code&gt;wp-admin&lt;/code&gt; works the same way. I couldn't come up any other examples when host is used for assembling absolute URLs rather than &lt;code&gt;site_url()&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
I attached a diff which solves the issue, although I don't know if it would break something else.
&lt;/p&gt;
&lt;p&gt;
Cheers
&lt;/p&gt;
&lt;p&gt;
&lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/1" title="New repository initialized by cvs2svn."&gt;[1]&lt;/a&gt;: &lt;a class="ext-link" href="http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html#request-custom-headers-behavior"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/RequestAndResponseBehaviorCustomOrigin.html#request-custom-headers-behavior&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34813 (PHP Warnings in debug.log - strip_tags() expects parameter 1 to be string) created</title>
      
        <dc:creator>allegroclub</dc:creator>

      <pubDate>Sun, 29 Nov 2015 03:06:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34813</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34813/1448766404816526</guid>
      <description>&lt;pre class="wiki"&gt;PHP Warning:  strip_tags() expects parameter 1 to be string, array given in /wp-includes/formatting.php on line 4065
&lt;/pre&gt;</description>
      <category>newticket</category>
    </item><item>
      <title>Changeset [35748]: In a similar vein to [34133], escape the email address and IP address ...</title>
      
        <dc:creator>johnbillion</dc:creator>

      <pubDate>Sun, 29 Nov 2015 02:40:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/35748</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/35748/1448764842595145</guid>
      <description>&lt;p&gt;
In a similar vein to &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/34133" title="List tables: escape user e-mails
Better safe than sorry.
"&gt;[34133]&lt;/a&gt;, escape the email address and IP address of comment authors to increase defence in depth.
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #17470 (Display warning when editing the page_for_posts page) updated</title>
      
        <dc:creator>philiparthurmoore</dc:creator>

      <pubDate>Sun, 29 Nov 2015 02:29:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17470#comment:30</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17470#comment:30/1448764146736575</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17470#comment:29" title="Comment 29"&gt;greenshady&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17470#comment:28" title="Comment 28"&gt;philiparthurmoore&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
If there's a simpler way about this, let me know. Always open to suggestions.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Here's a slightly simpler version.
&lt;/p&gt;
&lt;pre class="wiki"&gt;add_action( 'edit_form_after_title', 'my_enable_posts_page_editor', 0 );
function my_enable_posts_page_editor( $post ) {
	if ( get_option( 'page_for_posts' ) != $post-&amp;gt;ID )
		return;
	remove_action( 'edit_form_after_title', '_wp_posts_page_notice' );
	add_post_type_support( $post-&amp;gt;post_type, 'editor' );
}
&lt;/pre&gt;&lt;/blockquote&gt;
&lt;p&gt;
Just saw this. Thanks so much!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #34801 (Remove debug from default wp-cli.yml) closed</title>
      
        <dc:creator>johnbillion</dc:creator>

      <pubDate>Sun, 29 Nov 2015 02:26:04 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34801#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34801#comment:4/1448763964387618</guid>
      <description>fixed: &lt;p&gt;
Fixed in &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/35746" title="Remove debug mode from WP-CLI by default, as it now outputs too much ..."&gt;[35746]&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #33694 (Capability missing for editing scheduled posts created by one self ...) closed</title>
      
        <dc:creator>johnbillion</dc:creator>

      <pubDate>Sun, 29 Nov 2015 02:24:17 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/33694#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/33694#comment:4/1448763857085342</guid>
      <description>fixed: &lt;p&gt;
In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/35747" title="When a post is scheduled for publication, treat it the same as a ..."&gt;35747&lt;/a&gt;:
&lt;/p&gt;
&lt;div class="message"&gt;&lt;p&gt;
When a post is scheduled for publication, treat it the same as a published post when calculating the capabilities required to edit or delete it.&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;
Fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/33694" title="#33694: defect (bug): Capability missing for editing scheduled posts created by one self ... (closed: fixed)"&gt;#33694&lt;/a&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;/div&gt;</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [35747]: When a post is scheduled for publication, treat it the same as a ...</title>
      
        <dc:creator>johnbillion</dc:creator>

      <pubDate>Sun, 29 Nov 2015 02:24:15 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/35747</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/35747/1448763855359691</guid>
      <description>&lt;p&gt;
When a post is scheduled for publication, treat it the same as a published post when calculating the capabilities required to edit or delete it.
&lt;/p&gt;
&lt;p&gt;
Fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/33694" title="#33694: defect (bug): Capability missing for editing scheduled posts created by one self ... (closed: fixed)"&gt;#33694&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #34801 (Remove debug from default wp-cli.yml) updated</title>
      
        <dc:creator>danielbachhuber</dc:creator>

      <pubDate>Sun, 29 Nov 2015 00:29:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/34801#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/34801#comment:3/1448756971880282</guid>
      <description>&lt;p&gt;
For the next person to come across this ticket, you can also disable a flag by prefixing with &lt;code&gt;--no-&lt;/code&gt; (e.g. &lt;code&gt;--no-debug&lt;/code&gt;)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item>
   </channel>
</rss>