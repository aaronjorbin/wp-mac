<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>WordPress Trac</title>
    <link>http://core.trac.wordpress.org/timeline</link>
    <description>Trac Timeline</description>
    <language>en-US</language>
    <generator>Trac 1.2.2</generator>
    <image>
      <title>WordPress Trac</title>
      <url>http://core.trac.wordpress.org/chrome/site/your_project_logo.png</url>
      <link>http://core.trac.wordpress.org/timeline</link>
    </image>
    <item>
      <title>Ticket #2233 (wpdb constructor should create a new connection) updated</title>
      
        <dc:creator>Libertus</dc:creator>

      <pubDate>Wed, 26 Apr 2006 23:37:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2233</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2233/1146094631000000</guid>
      <description>&lt;p&gt;
masquerade, abhay,
&lt;/p&gt;
&lt;p&gt;
The original patch from thomasq is correct. wpdb constructor must force a new database connection, otherwise imports from different databases on the same host with the same username and password as the main WP database will fail.
&lt;/p&gt;
&lt;p&gt;
The problem is not where $this-&amp;gt;dbh is used. The problem is that $this-&amp;gt;dbh on two supposedly independent wpdb objects are references to the same underlying database connection object, making wpdb::select() change the active database for all of them, including the global $wpdb, which side-effect causes the failure.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2678 (Nonces instead of referers) updated</title>
      
        <dc:creator>ringmaster</dc:creator>

      <pubDate>Wed, 26 Apr 2006 20:00:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2678</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2678/1146081656000000</guid>
      <description>&lt;p&gt;
By my calculations, $i would change every 12 hours, not every 30 days.  That makes the window 24 hours when checking "this nonce" and "the one before this one".
&lt;/p&gt;
&lt;p&gt;
For example:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$t = strtotime('2006-04-24 12:00:00');
$i = ceil($t / 43200);
echo "$i\n";
$t = strtotime('2006-04-25 00:00:00');
$i = ceil($t / 43200);
echo "$i\n";
&lt;/pre&gt;&lt;p&gt;
Output:
&lt;/p&gt;
&lt;pre class="wiki"&gt;26526
26527
&lt;/pre&gt;&lt;p&gt;
We can (should) make 43200 into a constant and then you would be able to change the window as preferred.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2678 (Nonces instead of referers) updated</title>
      
        <dc:creator>masquerade</dc:creator>

      <pubDate>Wed, 26 Apr 2006 19:53:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2678</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2678/1146081191000000</guid>
      <description>&lt;p&gt;
&lt;code&gt;This solution tries to use a time check, but the logic doesn't work.&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
Sure it does
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;This code here is the problem: &amp;gt;$i = ceil(time() / 43200);&lt;/code&gt;
Not quite, keep reading
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;That takes the number of seconds since January 1 1970 00:00:00 GMT and counts how many 30 day chunks there have been.&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
No, since when was 43200 seconds 30 days? Last I checked, 43200 / 60 (seconds) / 60 (minutes) = 12 hours.
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;The nonce evaluation simply checks to see if you are in the same 30 day chunk of time. It does not say "this nonce is valid for 30 days." In fact, if you visit this site with only one second left in the 30 day chunk, you will have 1 second in which to do all of your work.&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
You didn't look at the logic which checks, which also checks $i-1 against the hash, making the lifetime of the hash 12 hours to 24 hours.
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;Additionally, all days within that thirty day chunk evaluate as being the same chunk. So, as salt, $i really does nothing right now. So I don't think a solution of "just check the next chunk too" is a good one. A nonce that can be valid for two months is not really time based, imho.&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
Months are far too long, which is why no nonces last more than a day.
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;Generally speaking when used for security purposes in applications, Nonces should be valid for as short a time as possible. When used as a session key, this normally means a nonce is valid for minutes, not days.&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
43200/120 minutes is much better than your accused 30 days.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>menu-test.php attached to Ticket #2696</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Wed, 26 Apr 2006 18:21:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/2696/menu-test.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/2696/menu-test.php/1146075680000000</guid>
      <description>&lt;p&gt;
Simple menu testing plugin
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #2696 (add_menu_page doesn't respect "access level".) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Wed, 26 Apr 2006 18:20:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2696</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2696/1146075645000000</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Ok sorry you are correct the right place to build admin menus is on the admin_menu hook.
&lt;/p&gt;
&lt;p&gt;
However I can't reproduce your bug.
&lt;/p&gt;
&lt;p&gt;
I am uploading my menu testing plugin and the menus I have set to have level_10 capability or a userlevel of 10 are only viewable by the admin user.
&lt;/p&gt;
&lt;p&gt;
What version of WP are you testing - I have tested with 2.0.2 and trunk
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2678 (Nonces instead of referers) updated</title>
      
        <dc:creator>SilverPaladin</dc:creator>

      <pubDate>Wed, 26 Apr 2006 17:55:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2678</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2678/1146074155000000</guid>
      <description>&lt;p&gt;
This solution tries to use a time check, but the logic doesn't work.
&lt;/p&gt;
&lt;p&gt;
This code here is the problem:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
$i = ceil(time() / 43200);
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
That takes the number of seconds since January 1 1970 00:00:00 GMT and counts how many 30 day chunks there have been.
&lt;/p&gt;
&lt;p&gt;
The nonce evaluation simply checks to see if you are in the same 30 day chunk of time. It does not say "this nonce is valid for 30 days."  In fact, if you visit this site with only one second left in the 30 day chunk, you will have 1 second in which to do all of your work.
&lt;/p&gt;
&lt;p&gt;
Additionally, all days within that thirty day chunk evaluate as being the same chunk.  So, as salt, $i really does nothing right now.  So I don't think a solution of "just check the next chunk too" is a good one. A nonce that can be valid for two months is not really time based, imho.
&lt;/p&gt;
&lt;p&gt;
Generally speaking when used for security purposes in applications, Nonces should be valid for as short a time as possible.  When used as a session key, this normally means a nonce is valid for minutes, not days.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2678 (Nonces instead of referers) updated</title>
      
        <dc:creator>SilverPaladin</dc:creator>

      <pubDate>Wed, 26 Apr 2006 17:50:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2678</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2678/1146073801000000</guid>
      <description>&lt;p&gt;
This solution tries to use a time check, but the logic doesn't work.
&lt;/p&gt;
&lt;p&gt;
This code here is the problem:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
$i = ceil(time() / 43200);
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
That takes the number of seconds since January 1 1970 00:00:00 GMT and counts how many 30 day chunks there have been.  The nonce evaluation simply checks to see if you are in the same 30 day chunk of time.
&lt;/p&gt;
&lt;p&gt;
It does not say "this nonce is valid for 30 days."  In fact, if you visit this site with only one second left in the 30 day chunk, you will have 1 second in which to do all of your work.
&lt;/p&gt;
&lt;p&gt;
Additionally, all days within that thirty day chunk evaluate as being the same chunk.  So, as salt, $i really does nothing.
&lt;/p&gt;
&lt;p&gt;
In security applications, Nonces should be valid for as short a time as possible.  When used as a session key, this normally means a nonce is valid for minutes, not days.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Wed, 26 Apr 2006 15:12:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1146064368000000</guid>
      <description>&lt;p&gt;
You know, you're right and I did not know that.  I was taught to always use double quotes and I guess over the years I started to assume it was the standard.  Thanks for teaching me something new.
&lt;/p&gt;
&lt;p&gt;
And actually, the 'hwstring_small' meta attribute (that has the single quoted attributes) isn't even used by any WP core code.  (inline_uploading.php: line 80)  The height and width attributes for thumbnails are recreated upon display anyway.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2696 (add_menu_page doesn't respect "access level".) updated</title>
      
        <dc:creator>denney</dc:creator>

      <pubDate>Wed, 26 Apr 2006 13:51:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2696</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2696/1146059466000000</guid>
      <description>&lt;ol&gt;&lt;li&gt;The patch I posted doesn't work with other plugins that use add_submenu_page(). It keeps trying to redeclare the function. Not good. So don't use my patch.
&lt;/li&gt;&lt;/ol&gt;&lt;ol start="2"&gt;&lt;li&gt;I am using the "admin_menu()" hook to call "add_menu_page()" because that's what the Codex says to do. I tried just calling it when it's first included AND running it through init but I get an error about "add_menu_page() function doesn't exist".
&lt;/li&gt;&lt;/ol&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2696 (add_menu_page doesn't respect "access level".) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Wed, 26 Apr 2006 13:18:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2696</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2696/1146057517000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Priority&lt;/i&gt;, &lt;i&gt;Severity&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Are you using the admin_menu hook to call add_menu_page?
&lt;/p&gt;
&lt;p&gt;
I'm not sure you should - you should do it when you plugin is first included or on the init hook instead.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2688 (plugin order is wrong) closed</title>
      
        <dc:creator>leftjustified</dc:creator>

      <pubDate>Wed, 26 Apr 2006 13:07:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2688</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2688/1146056877000000</guid>
      <description>duplicate: &lt;p&gt;
that's some good thinking!
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #2696 (add_menu_page doesn't respect "access level".) updated</title>
      
        <dc:creator>denney</dc:creator>

      <pubDate>Wed, 26 Apr 2006 12:55:50 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2696</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2696/1146056150000000</guid>
      <description>&lt;p&gt;
I don't think the patch I've submitted weakens security but it fixes the problem so it's a possible solution?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>menu.diff attached to Ticket #2696</title>
      
        <dc:creator>denney</dc:creator>

      <pubDate>Wed, 26 Apr 2006 12:54:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/2696/menu.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/2696/menu.diff/1146056085000000</guid>
      <description>&lt;p&gt;
Patch to fix the problem.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #2696 (add_menu_page doesn't respect "access level".) created</title>
      
        <dc:creator>denney</dc:creator>

      <pubDate>Wed, 26 Apr 2006 12:38:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2696</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2696/1146055089000000</guid>
      <description>&lt;p&gt;
I'm having the problem of my plugin toplevel menu being displayed regardless of the users access level.
&lt;/p&gt;
&lt;p&gt;
I have the access level set to 10 in the "add_menu_page()" call but logging in as a standard subscriber still displays the menu and clicking on it shows the content of the menu item.
&lt;/p&gt;
&lt;p&gt;
Any submenu's of the new toplevel menu aren't being displayed which is correct but to me, not even the menu should be displayed.
&lt;/p&gt;
&lt;p&gt;
My function call is as follows:
&lt;/p&gt;
&lt;p&gt;
"add_menu_page('Kavelier', 'Kavelier', 10, &lt;span class="underline"&gt;FILE&lt;/span&gt;, 'kav_plugin_options');"
&lt;/p&gt;
&lt;p&gt;
This is using revision 3751.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2387 (Caching makes activate/deactivate plugin hooks unusable) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Wed, 26 Apr 2006 07:34:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2387</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2387/1146036866000000</guid>
      <description>&lt;p&gt;
Can we be sure that the shutdown func is always called on exit for all supported php types?
&lt;/p&gt;
&lt;p&gt;
Afterall calling &lt;a class="ext-link" href="http://uk.php.net/manual/en/function.register-shutdown-function.php"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;exit itself within a shutdown func&lt;/a&gt; will stop all the others from running.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2531 (Functions for registering additional capabilities and getting a list ...) updated</title>
      
        <dc:creator>ringmaster</dc:creator>

      <pubDate>Wed, 26 Apr 2006 04:04:21 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2531</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2531/1146024261000000</guid>
      <description>&lt;p&gt;
What we have now is pretty simple.  I'm not sure how current_user_can('do_something') can be much more clear.  In what way are you suggesting that it's not simple?  Nevermind that most ACL systems work just like WP roles and capabilities, so the knowledge of the workings of similar systems ports to WordPress.
&lt;/p&gt;
&lt;p&gt;
What is currently lacking in the core is a good way to let users manually set capabilities as required by plugins.  Also, features to allow access to plugins for setting these capabilities are not as apparent as they might be.  Remember though, the capabilities system was designed and implemented knowing that none of those things would exist in that release.  We should now address those issues.
&lt;/p&gt;
&lt;p&gt;
There are several plugins that were not written by core hackers that make use of the caps system.  I'm not sure what would give the impression that the caps system is a barrier to developers.
&lt;/p&gt;
&lt;p&gt;
The proposed 1-6 system seems less understandable than the caps system.  How do you permit a single user access to something that is typically not permitted to users of their assigned role?  How does the number mean anything to what functions you are allowed to access?  The inability to answer this question is the exact reason why we ditched the userlevel nonsense in the first place.
&lt;/p&gt;
&lt;p&gt;
WordPress is not WordPress MU.  If the capabilities system is incompatible with MU (it isn't), then perhaps MU devs should consider using something that works better for them.  Providing for discrete capabilities for WordPress when used as a CMS is something that we would be remiss to remove just to gain speed improvements in some other projects, which would likely not be used as a CMS.
&lt;/p&gt;
&lt;p&gt;
This is the first complaint I've heard about the capabilities system other than from folks who were used to having arbitrarily defined hierarchical levels, and I'm shocked.  I'm curious what code you've attempted to write with permissions that has been so difficult that would lead you to this severely regressive suggestion.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2695 (dbdelta duplicates indices instead of overwriting them.) created</title>
      
        <dc:creator>majelbstoat</dc:creator>

      <pubDate>Wed, 26 Apr 2006 03:47:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2695</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2695/1146023262000000</guid>
      <description>&lt;p&gt;
When using dbdelta to upgrade a plugin's tables, any UNIQUE keys on that table are duplicated, because they are added without being removed first.  This seems to occur when the table structure is changed in some way, even when the SQL is identical to that outputted by phpMyAdmin.
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="http://comox.textdrive.com/pipermail/wp-hackers/2006-April/006046.html"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://comox.textdrive.com/pipermail/wp-hackers/2006-April/006046.html&lt;/a&gt; for the original discussion.
&lt;/p&gt;
&lt;p&gt;
I also had a problem where dbdelta tries to duplicate multiple primary keys as well.  I'll do some more testing on this and see if I can narrow down the cause.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2694 (search query variable could use some filtering) created</title>
      
        <dc:creator>Denis-de-Bernardy</dc:creator>

      <pubDate>Wed, 26 Apr 2006 02:47:54 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2694</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2694/1146019674000000</guid>
      <description>&lt;p&gt;
At the moment, you can search for:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;a href=http://www.spammer.com&amp;gt;keyword&amp;lt;/a&amp;gt;
&lt;/pre&gt;&lt;p&gt;
And the html goes in and out of the search query.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2531 (Functions for registering additional capabilities and getting a list ...) updated</title>
      
        <dc:creator>matt</dc:creator>

      <pubDate>Wed, 26 Apr 2006 00:54:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2531</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2531/1146012849000000</guid>
      <description>&lt;p&gt;
I think caps should move out of the DB entirely. At the end of the day, we basically have a boolean value for a number of different actions. Plugins should be able to create and check against a darn boolean value without modifying the DB. Defaults should be hardcoded into vars.php and plugins can modify them at will. Right now the system is far more complex than it needs to be, and it's extremely challenging to grasp. (The lack of documentation doesn't help either, but if the system was clearer it wouldn't need documentation, so I see that as a symptom not a cause.)
&lt;/p&gt;
&lt;p&gt;
I think the fact that no one but extremely core hackers have even attempted to put anything on top of roles/caps speaks to that fact.
&lt;/p&gt;
&lt;p&gt;
What if...
&lt;/p&gt;
&lt;p&gt;
We had an indexed array of roles in a file in WP. Roles 0-6, which match the roles we currently have.
&lt;/p&gt;
&lt;p&gt;
Each of these roles statically maps in an array by role_id to a set of caps.
&lt;/p&gt;
&lt;p&gt;
Roles and caps both pass through filters, so plugins can edit current ones or add new ones at runtime. This would match how we allow plugins to modify similar systems throughout the rest of WP.
&lt;/p&gt;
&lt;p&gt;
The role_id is stored in usermeta, but only in the key. If I'm Administrator (role_id = 6) I have a usermeta row which looks like: user_id 1, meta_key role_6, value $table_prefix.
&lt;/p&gt;
&lt;p&gt;
For MU for a fast way to get all the users of a blog, set a meta_key = $table_prefix and meta_value = 1, which is set if someone is attached to a blog. Again, this would be a key lookup.
&lt;/p&gt;
&lt;p&gt;
This would allow indexed lookups of people in different roles (scanning values is a full table scan) and we already have usermeta set for users so we could just check the user object, making everything ultra-fast as well.
&lt;/p&gt;
&lt;p&gt;
I'm just throwing this out there, it might not be the best system but I'm sure between us we can think of something infinitely simpler than what we have now.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2387 (Caching makes activate/deactivate plugin hooks unusable) updated</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 23:56:40 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2387</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2387/1146009400000000</guid>
      <description>&lt;p&gt;
The shutdown hook is run on exit.  Wonder why the close isn't being called by the hook.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>random</dc:creator>

      <pubDate>Tue, 25 Apr 2006 23:50:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1146009020000000</guid>
      <description>&lt;p&gt;
Single quotes around attributes are valid XHTML.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2531 (Functions for registering additional capabilities and getting a list ...) updated</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 23:45:41 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2531</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2531/1146008741000000</guid>
      <description>&lt;p&gt;
Caps should move out of usermeta.  usermeta is a global table but caps are a per-blog resource.  Using the tables I mentioned follows the rule that you store something only once, but we don't have to be strictly by the book.  Busting caps out of the array will definitely help.  Keep in mind also that with roles we have a level of indirection.  One can't directly query if the user has the "edit_users" cap since the user has only the "administrator" role/cap.  You have to look up the role to get at the caps.  Using the extra tables makes this easier.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2578 (Setting "Show at most N posts" to 0 appears to break Page display ...) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 23:00:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2578</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2578/1146006059000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/3752" title="Don't try to do paging for single page queries. Props westi. fixes #2578"&gt;[3752]&lt;/a&gt;) Don't try to do paging for single page queries. Props westi. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2578" title="#2578: defect (bug): Setting &amp;#34;Show at most N posts&amp;#34; to 0 appears to break Page display ... (closed: fixed)"&gt;#2578&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [3752]: Don't try to do paging for single page queries. Props westi. fixes #2578</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 23:00:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/3752</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/3752/1146006056543563</guid>
      <description>&lt;p&gt;
Don't try to do paging for single page queries. Props westi. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2578" title="#2578: defect (bug): Setting &amp;#34;Show at most N posts&amp;#34; to 0 appears to break Page display ... (closed: fixed)"&gt;#2578&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #2693 (Paging broken on Manage Posts) updated</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 18:29:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2693</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2693/1145989788000000</guid>
      <description>&lt;i&gt;Summary&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
OMG, my bad, I meant that to be the Manage Posts page is broken!  Yeah, you're right, paging on Manage Pages is removed, but paging on Manage Posts is broken.  :-)  Typo!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2693 (Paging broken on Manage Posts) updated</title>
      
        <dc:creator>matt</dc:creator>

      <pubDate>Tue, 25 Apr 2006 18:22:52 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2693</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2693/1145989372000000</guid>
      <description>&lt;p&gt;
Is this latest trunk? I'm pretty sure I removed paging on the Page page page.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 15:08:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1145977717000000</guid>
      <description>&lt;p&gt;
OK, so instead of having wp_upload_dir return a relative path (and in turn the 'upload_dir' filter), we rework wp_handle_upload to strip the ABSPATH and return the relative path.  Inline_uploading.php would then store the relative path in the DB, but would still have to add ABSPATH after the fact for thumbnail creation.  Ya know, something about this whole process seems like a weak link.  I'm going to think about this a little deeper later on.  I think there are more issues here than we are seeing.
&lt;/p&gt;
&lt;p&gt;
Also, I am going to patch the issue where inline_uploading stores invalid XHTML for the height/width properties (it uses single quotes around attributes).
&lt;/p&gt;
&lt;p&gt;
And yes, I see where the thumbnail problem (WP can't find them) is occurring.  I'll submit a new patch in a little while.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>random</dc:creator>

      <pubDate>Tue, 25 Apr 2006 13:00:52 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1145970052000000</guid>
      <description>&lt;p&gt;
Oh, to clarify: I use that filter (rather than WP's built-in option) because my upload directory is nowhere near the WordPress directory. I'm not enthusiastic about passing '../../../../somedir/anotherdir/' or whatever as the path.
&lt;/p&gt;
&lt;p&gt;
Also, with the patch applied, thumbnails are created but WP can't find them.
&lt;/p&gt;
&lt;p&gt;
Maybe the array from wp_upload_dir() could store a 'relative_path' as well as 'path'?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2693 (Paging broken on Manage Posts) created</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 12:30:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2693</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2693/1145968200000000</guid>
      <description>&lt;p&gt;
I posted this in wp-testers but it seems no one reads that list anymore...
&lt;/p&gt;
&lt;p&gt;
Using latest trunk code, BTW.
&lt;/p&gt;
&lt;p&gt;
First off, the paging on the Manage Posts admin page is determined by the option "posts_per_page" but the results list is hardcoded to show the Latest 15 posts:
&lt;/p&gt;
&lt;p&gt;
edit.php, line 59:
&lt;/p&gt;
&lt;pre class="wiki"&gt;   wp('what_to_show=posts&amp;amp;posts_per_page=15&amp;amp;posts_per_archive_page=-1');
&lt;/pre&gt;&lt;p&gt;
So, if I set the "posts_per_page" option to 5 (on Options-&amp;gt;Reading) and I have 15 posts, the Manage Posts page allows me to page through 3 pages:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the first page contains my latest 15 posts
&lt;/li&gt;&lt;li&gt;the second page (previous) is blank
&lt;/li&gt;&lt;li&gt;the third page (previous) is blank
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
The other bug is related to &lt;a class="ext-link" href="http://trac.wordpress.org/ticket/2578"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;Ticket #2578&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
If I set "show at most N posts" to 0, the Manage-&amp;gt;Posts page now displays 15 posts and this error:
&lt;/p&gt;
&lt;pre class="wiki"&gt;*    Warning*:  Division by zero in *wp-includes\template-functions-links.php* on line *476*
&lt;/pre&gt;&lt;p&gt;
This is also related to &lt;a class="ext-link" href="http://trac.wordpress.org/changeset/3694"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;Changeset 3694&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Tue, 25 Apr 2006 12:26:34 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1145967994000000</guid>
      <description>&lt;p&gt;
I'm not sure this patch is taking the correct approach to fixing this issue.
&lt;/p&gt;
&lt;p&gt;
We need all the filesystem operations to work with absolute paths so why strip off ABSPATH so early and then keep adding it back on?
&lt;/p&gt;
&lt;p&gt;
Why not strip ABSPATH off at the end of wp_handle_upload to return a relative url then?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 12:08:49 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1145966929000000</guid>
      <description>&lt;p&gt;
With the patch, the 'upload_dir' filter is simply passed an array value 'path' with the relative path instead of the absolute path.  If you were plugging into that filter, you'd have to return a relative upload directory for the 'path' array key as the 'handle_upload' function now assumes this value is relative.  'url' is not disturbed as it's already relative off the siteurl.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2682 (Paths should be relative for images and uploads) updated</title>
      
        <dc:creator>random</dc:creator>

      <pubDate>Tue, 25 Apr 2006 11:34:41 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2682</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2682/1145964881000000</guid>
      <description>&lt;p&gt;
IIRC it's currently possible to use whatever upload directory you want by plugging into the 'upload_dir' filter; will this patch mess with that? (A quick look makes me think it would.)
&lt;/p&gt;
&lt;p&gt;
+1 for storing relative paths.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2688 (plugin order is wrong) updated</title>
      
        <dc:creator>Viper007Bond</dc:creator>

      <pubDate>Tue, 25 Apr 2006 10:58:15 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2688</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2688/1145962695000000</guid>
      <description>&lt;p&gt;
Or how about we sort the plugins &lt;a class="ext-link" href="http://trac.wordpress.org/ticket/2412"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;truely alphabetically&lt;/a&gt;?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2412 (Sort by plugin name for real) updated</title>
      
        <dc:creator>Viper007Bond</dc:creator>

      <pubDate>Tue, 25 Apr 2006 10:57:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2412</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2412/1145962675000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2691 (HTML comments in posts aren't handled properly.) updated</title>
      
        <dc:creator>random</dc:creator>

      <pubDate>Tue, 25 Apr 2006 10:52:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2691/1145962363000000</guid>
      <description>&lt;p&gt;
Maybe a bandaid on it? (e.g.)
&lt;/p&gt;
&lt;pre class="wiki"&gt;$pee = preg_replace('!&amp;lt;p&amp;gt;&amp;lt;!--(.*?)--&amp;gt;&amp;lt;/p&amp;gt;!ise', " '&amp;lt;!--' .  stripslashes(clean_pre('$1'))  . '--&amp;gt;' ", $pee);
&lt;/pre&gt;&lt;p&gt;
clean_pre() will ruin any comments which are &lt;em&gt;supposed&lt;/em&gt; to have &amp;lt;p&amp;gt; and &amp;lt;br /&amp;gt; in them, but that's an even edgier case.
&lt;/p&gt;
&lt;p&gt;
Gord, you could also try a plugin replacement for wpautop -- I know Markdown handles comments fine.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2692 (Future Posts Show Empty Category) created</title>
      
        <dc:creator>smurxf</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:55:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2692</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2692/1145955322000000</guid>
      <description>&lt;p&gt;
When posting to a future date, the post prematurely counts on the category to which it has been posted, even though it has not been published. This is a bigger problem if the category does not contain any previous entries as the category link is shown in the sidebar, which when clicked on, navigates to the Error - 404 not found.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2348 (&lt;div&gt;blah&lt;!--more--&gt;blah&lt;/div&gt; breaks themes, validation) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:46:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2348</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2348/1145954782000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/3751" title="Div balance across more.  Props skeltoac.  fixes #2348"&gt;[3751]&lt;/a&gt;) Div balance across more.  Props skeltoac.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2348" title="#2348: defect (bug): &amp;lt;div&amp;gt;blah&amp;lt;!--more--&amp;gt;blah&amp;lt;/div&amp;gt; breaks themes, validation (closed: fixed)"&gt;#2348&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [3751]: Div balance across more.  Props skeltoac.  fixes #2348</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:46:19 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/3751</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/3751/1145954779481368</guid>
      <description>&lt;p&gt;
Div balance across more.  Props skeltoac.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2348" title="#2348: defect (bug): &amp;lt;div&amp;gt;blah&amp;lt;!--more--&amp;gt;blah&amp;lt;/div&amp;gt; breaks themes, validation (closed: fixed)"&gt;#2348&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #2676 (posts_per_rss option not validated) updated</title>
      
        <dc:creator>davidhouse</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:45:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2676</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2676/1145954759000000</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2689 (get_links() does not order properly) updated</title>
      
        <dc:creator>davidhouse</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:41:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2689</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2689/1145954492000000</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2678 (Nonces instead of referers) updated</title>
      
        <dc:creator>davidhouse</dc:creator>

      <pubDate>Tue, 25 Apr 2006 08:40:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2678</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2678/1145954442000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2691 (HTML comments in posts aren't handled properly.) updated</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Tue, 25 Apr 2006 07:51:49 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2691/1145951509000000</guid>
      <description>&lt;p&gt;
This is what is implied: nobody who has seen this has found it important enough to spend their time rewriting autop to work around comments. The applicable mantra is "edge case." You are welcome to work up a patch and submit it for testing and consideration.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #2691 (HTML comments in posts aren't handled properly.) created</title>
      
        <dc:creator>gord</dc:creator>

      <pubDate>Tue, 25 Apr 2006 03:16:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2691/1145934997000000</guid>
      <description>&lt;p&gt;
When an HTML comment is added in a post, autop adds paragraph ( &amp;lt;p&amp;gt; ) tags around the comment and for multi-line comments line breaks ( &amp;lt;br /&amp;gt; ) are added after every line.  This should not happen in HTML comments.
&lt;/p&gt;
&lt;p&gt;
This ticket is similar to &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/712" title="#712: defect (bug): HTML Comments in posts are mangled (closed: wontfix)"&gt;#712&lt;/a&gt; which was closed with wontfix.  I would like to know why this isn't seen as an issue?  It prevents the addition of RDF and other metadata, not to mention just plain old HTML comments in posts.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #2683 (rss-functions.php incorrectly handles multiple links in atom format) updated</title>
      
        <dc:creator>ringmaster</dc:creator>

      <pubDate>Tue, 25 Apr 2006 02:24:54 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2683</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2683/1145931894000000</guid>
      <description>&lt;p&gt;
Any chance of updating Magpie (if an update exists) or swapping it out for something better?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1155 (Add wp-login.php to theme/template system) updated</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 00:59:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1155</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1155/1145926784000000</guid>
      <description>&lt;p&gt;
I added a patch for the hooks, and I also moved some stray CSS to wp-admin.css.  I don't know if this is my responsibility, but I needed it for my own personal reasons and figured uploading the patch wouldn't hurt.
&lt;/p&gt;
&lt;p&gt;
Should similar hooks be considered for wp-register.php as well?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>login_hooks.patch attached to Ticket #1155</title>
      
        <dc:creator>ryanscheuermann</dc:creator>

      <pubDate>Tue, 25 Apr 2006 00:52:27 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1155/login_hooks.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1155/login_hooks.patch/1145926347000000</guid>
      <description>&lt;p&gt;
new hooks: login_head, login_pre, and login_post
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #2690 (Page depth bug reversion in [3407]) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 00:06:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/2690</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/2690/1145923561000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/3750" title="Fix page depth, again. PRops skeltoac. fixes #2690"&gt;[3750]&lt;/a&gt;) Fix page depth, again. PRops skeltoac. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2690" title="#2690: defect (bug): Page depth bug reversion in [3407] (closed: fixed)"&gt;#2690&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [3750]: Fix page depth, again. PRops skeltoac. fixes #2690</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Tue, 25 Apr 2006 00:05:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/3750</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/3750/1145923559810047</guid>
      <description>&lt;p&gt;
Fix page depth, again. PRops skeltoac. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/2690" title="#2690: defect (bug): Page depth bug reversion in [3407] (closed: fixed)"&gt;#2690&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item>
   </channel>
</rss>