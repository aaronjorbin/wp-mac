<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>WordPress Trac</title>
    <link>http://core.trac.wordpress.org/timeline</link>
    <description>Trac Timeline</description>
    <language>en-US</language>
    <generator>Trac 1.2.2</generator>
    <image>
      <title>WordPress Trac</title>
      <url>http://core.trac.wordpress.org/chrome/site/your_project_logo.png</url>
      <link>http://core.trac.wordpress.org/timeline</link>
    </image>
    <item>
      <title>media_php4_constructor.patch attached to Ticket #16768</title>
      
        <dc:creator>Jayjdk</dc:creator>

      <pubDate>Sat, 09 Apr 2011 23:17:27 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16768/media_php4_constructor.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16768/media_php4_constructor.patch/1302391047893286</guid>
      <description>&lt;p&gt;
Removes PHP4 constructor for WP_Embed in media.php
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>pathfix 3.1.1.stragglers.patch attached to Ticket #17092</title>
      
        <dc:creator>ketwaroo</dc:creator>

      <pubDate>Sat, 09 Apr 2011 23:05:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17092/pathfix%203.1.1.stragglers.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17092/pathfix%203.1.1.stragglers.patch/1302390325257372</guid>
      <description>&lt;p&gt;
a few missing includes.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #5358 (Queried object on multiple tag query holds only first tag) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 22:30:02 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/5358#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/5358#comment:5/1302388202048794</guid>
      <description>&lt;p&gt;
I like the idea of get_queried_objects() for non-singular queries.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #13710 (Query posts with custom taxonomies the way similar to ...) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 22:29:17 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/13710#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/13710#comment:5/1302388157740713</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
I wouldn't mind the shorthand using the taxonomy query variable, but with tax_query, this ticket seems like a worksforme candidate.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #15971 (Add ability to rate and report compatibility of plugins from wp-admin) updated</title>
      
        <dc:creator>strider72</dc:creator>

      <pubDate>Sat, 09 Apr 2011 21:50:02 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/15971#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/15971#comment:5/1302385802856377</guid>
      <description>&lt;p&gt;
If this link were added automatically for any plugins that are installed from WP-Extend, it would also serve as a subtle indication of which plugins are NOT managed/version checked by that system.
&lt;/p&gt;
&lt;p&gt;
Just pointing out a small positive side-effect of this idea.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17097 (make_clickable() regex should exclude close-quotation marks after URLs) created</title>
      
        <dc:creator>boonebgorges</dc:creator>

      <pubDate>Sat, 09 Apr 2011 21:37:03 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17097</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17097/1302385023404599</guid>
      <description>&lt;p&gt;
Originally reported in &lt;a class="ext-link" href="http://trac.buddypress.org/ticket/2443"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://trac.buddypress.org/ticket/2443&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
The regex in make_clickable() thinks that a single-quote or a double-quote at the end of a URL string is part of the URL. Steps to reproduce:
1) Write a post:
&lt;/p&gt;
&lt;pre class="wiki"&gt;The websites 'http://wordpress.org' and "http://buddypress.org" are awesome
&lt;/pre&gt;&lt;p&gt;
2) Add the make_clickable filter:
&lt;/p&gt;
&lt;pre class="wiki"&gt;add_filter( 'the_content', 'make_clickable' );
&lt;/pre&gt;&lt;p&gt;
3) Output (html source):
&lt;/p&gt;
&lt;pre class="wiki"&gt;
The websites &amp;amp;#8216;&amp;lt;a href="http://wordpress.org&amp;amp;#038;#8217" rel="nofollow"&amp;gt;http://wordpress.org&amp;amp;#038;#8217&amp;lt;/a&amp;gt;; and &amp;amp;#8220;&amp;lt;a href="http://buddypress.org&amp;amp;#038;#8221" rel="nofollow"&amp;gt;http://buddypress.org&amp;amp;#038;#8221&amp;lt;/a&amp;gt;; are awesome
&lt;/pre&gt;&lt;p&gt;
(front end)
&lt;/p&gt;
&lt;pre class="wiki"&gt;
The websites ‘http://wordpress.org&amp;amp;#8217; and “http://buddypress.org&amp;amp;#8221; are awesome
&lt;/pre&gt;&lt;p&gt;
I would expect that, in the majority of cases, URLs will not end in a double- or single-quote. So it makes sense for the regex to count the quote as part of the after-URL backreference. See &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/5081" title="#5081: defect (bug): make_clickable shouldn't include trailing punctuation (closed: fixed)"&gt;#5081&lt;/a&gt; for a similar issue involving periods.
&lt;/p&gt;
&lt;p&gt;
I'm afraid I'm not providing a patch because my puny mind cannot understand the expression currently being used :)
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #5942 (Add Owner role) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 21:17:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/5942#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/5942#comment:8/1302383868281625</guid>
      <description>&lt;p&gt;
My thoughts after a discussion with Jane:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Having an'Owner role would be beneficial for two reasons. 1, it would establish a link between a single admin account and the admin_email, thus improving that UI/UX. 2, by locking down ownership transfer, this is nice for security and site theft.
&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;The second part is primarily beneficial for multisites. It is also feasible only in multisite, unless you lock down plugin/theme installation (and probably upgrades) as well as the file editors to non-owners.
&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;An Owner role probably shouldn't be a role. It'd be much easier to bolt it onto the capabilities system similar to super admins.
&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;You could allow for an Owner to be specified in wp-config, which would then hide any UI for transferring ownership. Note that this wouldn't remove the requirement to disable file editors and installation, as you could easily inject a shell.
&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;I would think that Owner would be a nice feature to have for single-site -- it sounds like it should be an optional, opt-in way to link an account to the admin_email, and once that happens, the admin_email field would just go away for that site. For multisite, it could be enforceable at the network level for new sites. It sounds like it would get more use at the multisite level (the feature kind of sounds like the admin bar in that regard).
&lt;/li&gt;&lt;/ul&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #5942 (Add Owner role) reopened</title>
      
        <dc:creator>jane</dc:creator>

      <pubDate>Sat, 09 Apr 2011 20:36:04 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/5942#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/5942#comment:7/1302381364945068</guid>
      <description>&lt;p&gt;
I would love this, for the reasons outlined by @tellyworth in original ticket.
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>Ticket #17074 (wp_list_categories hide_empty do not work when items in trash) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Sat, 09 Apr 2011 19:55:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17074#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17074#comment:2/1302378910173463</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Sat, 09 Apr 2011 19:47:21 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093#comment:5/1302378441284544</guid>
      <description>&lt;p&gt;
I'm ok with a safe_apply_filters() function that does null checks, but don't think moving the context check there is a good idea.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16970 (Remove PHP4 functionality from timezone selector code) updated</title>
      
        <dc:creator>andrewryno</dc:creator>

      <pubDate>Sat, 09 Apr 2011 19:29:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16970#comment:15</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16970#comment:15/1302377354441790</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>17096.diff attached to Ticket #17096</title>
      
        <dc:creator>jimmynguyc</dc:creator>

      <pubDate>Sat, 09 Apr 2011 19:23:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17096/17096.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17096/17096.diff/1302377026914551</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17096 (WP_HTTP_Proxy :: Host check prevents proxying to local) created</title>
      
        <dc:creator>jimmynguyc</dc:creator>

      <pubDate>Sat, 09 Apr 2011 19:22:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17096</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17096/1302376958350620</guid>
      <description>&lt;p&gt;
Blog URL check should be &lt;strong&gt;optional&lt;/strong&gt; by defining them in WP_PROXY_BYPASS_HOSTS.
&lt;/p&gt;
&lt;p&gt;
Forcing this check denies me from proxying my blog URL through 127.0.0.1, which is needed because I'm ProxyPass-ing certain /directories to another server.
&lt;/p&gt;
&lt;p&gt;
E.g.
&lt;/p&gt;
&lt;pre class="wiki"&gt;
&amp;lt;VirtualHost *:80&amp;gt;
ServerName mysite.com
ProxyPass /special http://www.mysite.com/special
&amp;lt;/VirtualHost&amp;gt;
&lt;/pre&gt;&lt;p&gt;
/special is on a separate server running another CMS. Its IP is hardcoded in the server's hosts file.
&lt;/p&gt;
&lt;p&gt;
Hence,
&lt;/p&gt;
&lt;p&gt;
I will have this in my wp-config.php for the WP http requests to work.
&lt;/p&gt;
&lt;pre class="wiki"&gt;
define('WP_PROXY_HOST', '127.0.0.1');
define('WP_PROXY_PORT', '80');
define('WP_PROXY_BYPASS_HOSTS','');
&lt;/pre&gt;</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 18:04:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:6/1302372296957340</guid>
      <description>&lt;p&gt;
That's not the issue.. It's the validity of the URL: "http:&amp;#34; versus &amp;#34;&lt;a class="ext-link" href="http://"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://&lt;/a&gt;".
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 18:02:52 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:5/1302372172772046</guid>
      <description>&lt;i&gt;Version&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
nacin: Maybe we can use the new malware check here? (&lt;a class="ext-link" href="http://core.trac.wordpress.org/ticket/16923#comment:7"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;16923#comment:7&lt;/a&gt; )
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17094 (Add support for fetching postFormats supported by the active theme) updated</title>
      
        <dc:creator>josephscott</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:49:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17094#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17094#comment:3/1302371388315180</guid>
      <description>&lt;p&gt;
Adding a parameter to wp.getPostFormats to indicate that you want a list of supported formats as well is reasonable.  The question that comes up is how to do that in a reasonable way.
&lt;/p&gt;
&lt;p&gt;
I've put together a patch that adjusts the reply to provide both all of the formats and the currently supported ones.  When this is requested the response will look like:
&lt;/p&gt;
&lt;pre class="wiki"&gt;Array (
    [all] =&amp;gt; Array (
            [standard] =&amp;gt; Standard
            [aside] =&amp;gt; Aside
            [chat] =&amp;gt; Chat
            [gallery] =&amp;gt; Gallery
            [link] =&amp;gt; Link
            [image] =&amp;gt; Image
            [quote] =&amp;gt; Quote
            [status] =&amp;gt; Status
            [video] =&amp;gt; Video
            [audio] =&amp;gt; Audio
        )
    [supported] =&amp;gt; Array (
            [0] =&amp;gt; aside
            [1] =&amp;gt; gallery
        )
)
&lt;/pre&gt;&lt;p&gt;
The idea is that clients that specifically ask for this will know that the response format has changed slightly.  I'm not entirely thrilled with this approach but given the current constraints it seems like a possibly reasonable trade off.
&lt;/p&gt;
&lt;p&gt;
To get the additional data the method call would be wp.getPostFormats( 'blog_id', 'username', 'password', array( 'show-supported' =&amp;gt; TRUE ) ).
&lt;/p&gt;
&lt;p&gt;
For reference the current response looks like:
&lt;/p&gt;
&lt;pre class="wiki"&gt;Array (
    [standard] =&amp;gt; Standard
    [aside] =&amp;gt; Aside
    [chat] =&amp;gt; Chat
    [gallery] =&amp;gt; Gallery
    [link] =&amp;gt; Link
    [image] =&amp;gt; Image
    [quote] =&amp;gt; Quote
    [status] =&amp;gt; Status
    [video] =&amp;gt; Video
    [audio] =&amp;gt; Audio
)
&lt;/pre&gt;&lt;p&gt;
I'm putting this on my list of XML-RPC tickets for WP 3.2 (which I'll post on wpdevel later).
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17082 (White background missing in Thickbox when viewing plugin details) updated</title>
      
        <dc:creator>andrewryno</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:34:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17082#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17082#comment:2/1302370466496895</guid>
      <description>&lt;p&gt;
Ah, nice catch. I didn't really think about looking to see where that background was declared. However, you missed colors-classic as well. New patch just adds it.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>17082.2.diff attached to Ticket #17082</title>
      
        <dc:creator>andrewryno</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:34:19 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17082/17082.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17082/17082.2.diff/1302370459121823</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17031 (Saving navigation menu items is slow) updated</title>
      
        <dc:creator>mdthomann</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:33:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17031#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17031#comment:5/1302370406266223</guid>
      <description>&lt;p&gt;
Related: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/16799" title="#16799: enhancement: Bloated Custom Menus (closed: fixed)"&gt;#16799&lt;/a&gt; &amp;amp; &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/14134" title="#14134: defect (bug): Menus item are limited to 16 item and will not save more than that (closed: fixed)"&gt;#14134&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #7394 (Search: order results by relevance) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:32:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/7394#comment:13</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/7394#comment:13/1302370350451318</guid>
      <description>&lt;p&gt;
It occurs to me that this should have a query var for easy disabling.
&lt;/p&gt;
&lt;p&gt;
For example, it might not be well suited for an 'event' post type.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:14:18 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:4/1302369258072608</guid>
      <description>&lt;p&gt;
Looks like this is data straight from the plugin: &lt;a class="ext-link" href="http://plugins.svn.wordpress.org/wp-custom-pages/trunk/wp-custom-pages.php"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://plugins.svn.wordpress.org/wp-custom-pages/trunk/wp-custom-pages.php&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
Not sure if we should adjust the parser to correct this. It's quite the edge case.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:11:08 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:3/1302369068754168</guid>
      <description>&lt;i&gt;Description&lt;/i&gt;, &lt;i&gt;Summary&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) reopened</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:09:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:2/1302368995551116</guid>
      <description>&lt;p&gt;
Actually he means api.wordpress.org :)
&lt;/p&gt;
&lt;p&gt;
e.g.
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="http://api.wordpress.org/plugins/info/1.0/WP-Custom-Pages.xml"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://api.wordpress.org/plugins/info/1.0/WP-Custom-Pages.xml&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) updated</title>
      
        <dc:creator>josephscott</dc:creator>

      <pubDate>Sat, 09 Apr 2011 17:03:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091#comment:5/1302368623892612</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
I'm fine with this change and tested it, works fine.  I'm going to put this on my list of potential XML-RPC tickets for WP 3.2 (which I'll be posting on wpdevel).
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) closed</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 16:46:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095#comment:1/1302367603968730</guid>
      <description>invalid: &lt;p&gt;
You'll have to try WordPress.com support. This Trac is for the open source project at WordPress.org.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17095 (format or validate author url from api.wordpress.org) created</title>
      
        <dc:creator>wycks</dc:creator>

      <pubDate>Sat, 09 Apr 2011 16:44:13 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17095</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17095/1302367453376396</guid>
      <description>&lt;p&gt;
The author url from api.wordpress.org does not seem to do full format checking. Not apparent in browsers since they will understand malformed urls but is a problem when outputting elsewhere.
&lt;/p&gt;
&lt;p&gt;
Example:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;author type="string"&amp;gt;&amp;lt;![CDATA[&amp;lt;a href="http:www.artificium.sk"&amp;gt;Stanislav Gunčaga&amp;lt;/a&amp;gt;]]&amp;gt;&amp;lt;/author&amp;gt;
&lt;/pre&gt;&lt;p&gt;
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) updated</title>
      
        <dc:creator>josephscott</dc:creator>

      <pubDate>Sat, 09 Apr 2011 16:15:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091#comment:4/1302365739076825</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>16893.diff attached to Ticket #16893</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:45:54 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16893/16893.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16893/16893.diff/1302363954566609</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #16893 (Stop or reduce crawling of comment reply ?replytocom URLs) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:44:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16893#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16893#comment:6/1302363851713825</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/16893#comment:5" title="Comment 5"&gt;joelhardi&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
It would definitely work to put it in default-filters.php but then it's even lower in the stack. Could put the replytocom check in a new function and hook it to wp_head, but don't think that's better since it adds overhead and is basically equivalent to how noindex() is called.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Actually, I was thinking default-filters.php. Putting it in a function and hooking it is no different, since undoing that is unhooking a filter, while undoing this is hooking a filter. Dropping it into default-filters simply avoid an extra layer. It's not lower in the stack, as it's keeping the code outside of noindex(), which would still feel like a generic function.
&lt;/p&gt;
&lt;p&gt;
Moving to 3.2 for review.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17094 (Add support for fetching postFormats supported by the active theme) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:16:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17094#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17094#comment:2/1302362190187273</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
The main issue here is that it would require an additional XML-RPC call to fetch which formats are supported. If you store this information in memory, you won't know when to refresh it, so you'll need to deal with that as well.
&lt;/p&gt;
&lt;p&gt;
I believe that concern was expressed by josephscott originally. The change came out of &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/15405" title="#15405: task (blessed): Extend Post Format support to the XML-RPC API (closed: fixed)"&gt;#15405&lt;/a&gt;, but that may have come from a conversation in IRC.
&lt;/p&gt;
&lt;p&gt;
I imagine we should at least add a parameter that allows you to only ask for what is specifically supported. I'm fine with that for 3.2, and it should allow app makers to then make these decisions on their own.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17094 (Add support for fetching postFormats supported by the active theme) updated</title>
      
        <dc:creator>daniloercoli</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:11:50 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17094#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17094#comment:1/1302361910103057</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17094 (Add support for fetching postFormats supported by the active theme) created</title>
      
        <dc:creator>daniloercoli</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:11:12 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17094</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17094/1302361872470793</guid>
      <description>&lt;p&gt;
Noticed that wp.getPostFormats always returns the full list of Formats, even if the active theme doesn’t support most of them.  It just calls get_post_format_strings() to get the list.
&lt;/p&gt;
&lt;p&gt;
I recently added the support for postFormat into WordPress 4 BlackBerry and the users feedback confirm  that showing the full list is not so good, because the dashboard instead shows only the post_formats supported by the theme. We should use the same behavior on both places.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) updated</title>
      
        <dc:creator>daniloercoli</dc:creator>

      <pubDate>Sat, 09 Apr 2011 15:04:12 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091#comment:3/1302361452817094</guid>
      <description>&lt;p&gt;
ref: &lt;a class="ext-link" href="http://blackberry.trac.wordpress.org/ticket/128"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://blackberry.trac.wordpress.org/ticket/128&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:54:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091#comment:2/1302360898838132</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Hey Eric, the mobile team is using the mobile keyword to track tickets on report &lt;a class="report" href="http://core.trac.wordpress.org/report/42"&gt;{42}&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) updated</title>
      
        <dc:creator>ericmann</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:51:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091#comment:1/1302360693574690</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Component&lt;/i&gt;, &lt;i&gt;Severity&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
My first instinct was to disagree with you because I assumed &lt;code&gt;getRecentPostTitles&lt;/code&gt; only retrieved published posts.  Looking at the code, it does indeed return drafts as well, so there should be some distinction between the two.
&lt;/p&gt;
&lt;p&gt;
So long as adding a return value doesn't break existing third-party solutions, I see no problem with this.  The patch looks sound as well.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:49:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093#comment:4/1302360540460343</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17093#comment:3" title="Comment 3"&gt;nacin&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
I'm not sure, in terms of processing, how this is much different from a callback checking context on their own. I could imagine many use cases would be to do different things on different contexts. I think better effort would be spent tagging every query in core with a context, than to come up with a new (and strict) API.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
We're in agreement on tagging core queries with a context.  Do I hear a task blessing there?
&lt;/p&gt;
&lt;p&gt;
Agreed that context checking by the caller is a lesser concern. But if you look at it in terms of risk mitigation or damage control, a filter added with a specified context is immediately safer.  If the added overhead is minimal, isn't that better for everyone? Otherwise every query in the request depends on the callback's successful returning of an unfiltered value in its out-of-context executions - doable but often unnecessary.
&lt;/p&gt;
&lt;p&gt;
If strictness is a concern, context could be implemented as an array to let filters specify multiple contexts.  And filters are always free to implement their own context check by leaving it unspecified.
&lt;/p&gt;
&lt;p&gt;
Anyway, I thought the null validation issue might be compelling enough to bring caller-side context checking in on its coattails :)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #10840 (Plugin upgrade sometimes shows a scrollbar) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:35:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/10840#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/10840#comment:5/1302359701986046</guid>
      <description>&lt;p&gt;
Related: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/12828" title="#12828: defect (bug): Plugin upgrade completion screen formatting (closed: fixed)"&gt;#12828&lt;/a&gt;, &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/16937" title="Limit height only to iframe body. Fixes #15679"&gt;[16937]&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:14:08 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093#comment:3/1302358448128810</guid>
      <description>&lt;p&gt;
I'm not sure, in terms of processing, how this is much different from a callback checking context on their own. I could imagine many use cases would be to do different things on different contexts. I think better effort would be spent tagging every query in core with a context, than to come up with a new (and strict) API.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 14:04:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093#comment:2/1302357883664967</guid>
      <description>&lt;p&gt;
Note: add_query_filter() and apply_query_filters() are a fully equivalent to add_filter() and apply_filters(), with the validation and context check tacked on.
&lt;/p&gt;
&lt;p&gt;
Query filters added via add_filter() still work and also get return value validation.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:57:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093#comment:1/1302357452656787</guid>
      <description>&lt;p&gt;
Related: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/16661" title="#16661: enhancement: Review use of apply_filters_ref_array() and do_action_ref_array() (closed: wontfix)"&gt;#16661&lt;/a&gt;, &lt;a class="new ticket" href="http://core.trac.wordpress.org/ticket/17019" title="#17019: enhancement: add hooks for Media Library attachment counts (new)"&gt;#17019&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>apply_query_filters.diff attached to Ticket #17093</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:56:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17093/apply_query_filters.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17093/apply_query_filters.diff/1302357386908994</guid>
      <description>&lt;p&gt;
new plugin API for query filtering :add_query_filter() and apply_query_filters()
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17093 (Validation and context parameter for query filter application) created</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:54:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17093</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17093/1302357285614790</guid>
      <description>&lt;p&gt;
One improperly implemented query filter can easily crash a site, and this risk only increases with use of filterable get_posts() calls throughout wp-admin.
&lt;/p&gt;
&lt;p&gt;
In the most common scenario, a posts_where or posts_request filter fails to return a value. Even if the filter was intended for wp-admin but was not added selectively based on is_admin(), the site front end is crashed.  It's the plugin's fault, but leaves the end user wondering why WP can't be more robust.
&lt;/p&gt;
&lt;p&gt;
The associated patch eliminates that scenario by checking is_null() before accepting a filtered value.  If null, the filter is ignored, with a warning triggered if WP_DEBUG is defined.  Since this validation is performed in apply_query_filters() rather than the heavily-used apply_filters(), new overhead is minimal.
&lt;/p&gt;
&lt;p&gt;
Another benefit of a dedicated apply_query_filters() function is the ability to apply filters selectively based on a query_context specified by supplemental get_posts() calls.  This will also tend to mitigate the scope of query filtering errors if use of the context parameter becomes standard practice for get_posts() execution and filtering.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #10840 (Plugin upgrade sometimes shows a scrollbar) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:33:51 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/10840#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/10840#comment:4/1302356031874246</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
They are visible in Chrome und Safari, the issue is &lt;code&gt;html, body { height:  100% &lt;/code&gt;} from global.css.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17092 (use dirname(__file__).'/file.php' instead of './file' for includes) updated</title>
      
        <dc:creator>ketwaroo</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:13:04 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17092#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17092#comment:2/1302354784289269</guid>
      <description>&lt;p&gt;
for example.
&lt;/p&gt;
&lt;p&gt;
wrapper.php in /path/to/site1.com/htdocs
&lt;/p&gt;
&lt;pre class="wiki"&gt;  define ('COREDIR','/path/to/wordpress/');
  // do some wrapper stuff
   include COREDIR.'/index.php';
&lt;/pre&gt;&lt;p&gt;
index.php
&lt;/p&gt;
&lt;pre class="wiki"&gt;  require('./wp-blog-header.php');
&lt;/pre&gt;&lt;p&gt;
A fatal error occurs as index.php is looking for wp-blog-header.php in /path/to/site1.com/htdocs. and as you said, ./ skips include_path so I can't set it in the wrapper.
&lt;/p&gt;
&lt;p&gt;
It's a rare case scenario, but still.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17092 (use dirname(__file__).'/file.php' instead of './file' for includes) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 13:05:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17092#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17092#comment:1/1302354358882821</guid>
      <description>&lt;p&gt;
I'm not sure I've ever run into a situation where &lt;code&gt;./&lt;/code&gt; doesn't work the same as &lt;code&gt;dirname( __FILE__ )&lt;/code&gt;. It skips include_path, looking for the file in the same directory.
&lt;/p&gt;
&lt;p&gt;
We used to have &lt;code&gt;require( 'admin.php' );&lt;/code&gt; in some situations, thus relying on the include_path and often the script that started the process. But that shouldn't be the case here with &lt;code&gt;./&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
I would like some real-life examples of issues where this fails. I've not seen a Windows server with a problem with this. Additionally, having multiple domains run off a single copy of WordPress multisite is pretty common, and given it's the same set of files, this doesn't really come into play as far as I can tell.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>pathfix 3.1.1.patch attached to Ticket #17092</title>
      
        <dc:creator>ketwaroo</dc:creator>

      <pubDate>Sat, 09 Apr 2011 12:58:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17092/pathfix%203.1.1.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17092/pathfix%203.1.1.patch/1302353906974306</guid>
      <description>&lt;p&gt;
replaces all relative includes by absolute ones.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17092 (use dirname(__file__).'/file.php' instead of './file' for includes) created</title>
      
        <dc:creator>ketwaroo</dc:creator>

      <pubDate>Sat, 09 Apr 2011 12:57:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17092</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17092/1302353855999135</guid>
      <description>&lt;p&gt;
most initial includes prior to having ABSPATH defined are usually of the format:
&lt;/p&gt;
&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="x"&gt;require('./wp-blog-header.php');
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;
as seen in the main index.php. Most of these occur in /wp-admin.
&lt;/p&gt;
&lt;p&gt;
which is fine in most cases. Except on some windows servers where relative paths can get a bit funky. or if you're trying to include the file which contains a relative include in a file found in another directory (which happens when you're trying to use wordpress for something other than its intended purpose, like developing a more practical multisite system, on multiple domains, with a single copy of wordpress files for all the sites).
&lt;/p&gt;
&lt;p&gt;
anyway, I just wanted to request that absolute paths be used for includes.
&lt;/p&gt;
&lt;p&gt;
for example:
&lt;/p&gt;
&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="x"&gt;in /index.php
 require('./wp-blog-header.php');
becomes:
 require( dirname(__FILE__) . '/wp-blog-header.php' );
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="x"&gt;in /wp-admin/admin-ajax.php
 require_once('../wp-load.php');
becomes
 require_once( dirname(dirname(__FILE__)) . '/wp-load.php' );
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="wiki-code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="x"&gt;in /wp-admin/maint/repair.php
 require_once('../../wp-load.php');
becomes
 require_once( dirname(dirname(dirname(__FILE__))) . '/wp-load.php' );
&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;
it may not look as pretty but I think it's a saner/safer method of inclusion. Just a suggestion for the next major release. Or as you gradually update files.
&lt;/p&gt;
&lt;p&gt;
Attached is the patch I made from 3.1.1. It replaces every relative include|require(_once)? by absolute ones. As far as I've tested, works the same as unpatched and no includes are broken.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17082 (White background missing in Thickbox when viewing plugin details) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 12:28:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17082#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17082#comment:1/1302352105923044</guid>
      <description>&lt;i&gt;Priority&lt;/i&gt;, &lt;i&gt;Version&lt;/i&gt;, &lt;i&gt;Severity&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
It should use the same background color as for the media upload iframe, see 17082.patch. It's missing in 2.9 too.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>17082.patch attached to Ticket #17082</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 12:22:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17082/17082.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17082/17082.patch/1302351767821243</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17031 (Saving navigation menu items is slow) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Sat, 09 Apr 2011 12:17:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17031#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17031#comment:4/1302351421553243</guid>
      <description>&lt;p&gt;
I'd also like to see a dump of the queries.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17083 (Users experiencing fatal memory errors in various activities) closed</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 11:28:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17083#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17083#comment:4/1302348494416857</guid>
      <description>invalid</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17083 (Users experiencing fatal memory errors in various activities) reopened</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 11:27:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17083#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17083#comment:3/1302348476468951</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17083#comment:2" title="Comment 2"&gt;bennebw&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
All the same, a simple workaround is to deactivate a few plugins and do the upgrade, and drive on.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Or ask your host, if he can increase your memory limit or define &lt;a class="ext-link" href="http://codex.wordpress.org/Editing_wp-config.php#Increasing_memory_allocated_to_PHP"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;WP_MEMORY_LIMIT&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>reopenedticket</category>
    </item><item>
      <title>17091.diff attached to Ticket #17091</title>
      
        <dc:creator>daniloercoli</dc:creator>

      <pubDate>Sat, 09 Apr 2011 11:15:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17091/17091.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17091/17091.diff/1302347744538135</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17091 (Allow mt.getRecentPostTitles to return the post status) created</title>
      
        <dc:creator>daniloercoli</dc:creator>

      <pubDate>Sat, 09 Apr 2011 11:15:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17091</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17091/1302347716605622</guid>
      <description>&lt;p&gt;
Could be useful to have the post status field within the response of mt.getRecentPostTitles.
This XML-RPC call is used especially on mobile clients, but if we want add a visual indicator that shows the post status we should call the metaWeblog.getRecentPosts that is a more expensive call.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17076 (Nav menus produce duplicate classes on li elements for Page ...) updated</title>
      
        <dc:creator>ocean90</dc:creator>

      <pubDate>Sat, 09 Apr 2011 11:11:03 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17076#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17076#comment:3/1302347463923419</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Sat, 09 Apr 2011 08:51:04 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:8/1302339064564324</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) closed</title>
      
        <dc:creator>thomasvonhassel</dc:creator>

      <pubDate>Sat, 09 Apr 2011 08:00:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:7/1302336022261536</guid>
      <description>invalid: &lt;p&gt;
Sorry guys, somehow i have been saving empty arrays into metavalues that should been empty or not set at all ... always check your database first ..
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17031 (Saving navigation menu items is slow) updated</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Sat, 09 Apr 2011 06:05:51 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17031#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17031#comment:3/1302329151585613</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Can you please put the following in your &lt;code&gt;config.php&lt;/code&gt; file to enable debugging
&lt;/p&gt;
&lt;p&gt;
&lt;code&gt;define('WP_DEBUG', true);&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
and then tell us what error messages are issued when you have this problem?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17074 (wp_list_categories hide_empty do not work when items in trash) closed</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Sat, 09 Apr 2011 06:01:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17074#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17074#comment:1/1302328886567544</guid>
      <description>duplicate: &lt;p&gt;
&lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/14084" title="#14084: defect (bug): Custom taxonomy count includes draft &amp;amp; trashed posts (closed: invalid)"&gt;#14084&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Sat, 09 Apr 2011 06:00:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:32</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:32/1302328838918075</guid>
      <description>&lt;i&gt;Summary&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17076 (Nav menus produce duplicate classes on li elements for Page ...) closed</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:53:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17076#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17076#comment:2/1302328400695708</guid>
      <description>invalid: &lt;p&gt;
There aren't any duplicates in that list.
&lt;/p&gt;
&lt;p&gt;
It does have &lt;code&gt;current-page-ancestor&lt;/code&gt; as well as &lt;code&gt;current_page_ancestor&lt;/code&gt;, and &lt;code&gt;current-page-parent&lt;/code&gt; as well as &lt;code&gt;current_page_ancestor&lt;/code&gt; (note underscore vs hyphens), but these are not duplicates. The underscored classes are there for backward compatibility with previous versions of wordpress.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:41:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:31</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:31/1302327716827746</guid>
      <description>&lt;p&gt;
Yes, please.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:35:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:6/1302327314076762</guid>
      <description>&lt;p&gt;
and as i said before, an empty key will result in an array regardless (As an empty key means "return all data for this object_id" a singular return in that case seems incorrect)
&lt;/p&gt;
&lt;pre class="wiki"&gt;var_dump(
get_post_meta($id, '', true),
get_post_meta($id, '', false)
);
Output:
array
  empty
array
  empty
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:33:27 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:5/1302327207082927</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Could you post some code which shows the problem? I'd suggest disabling all plugins and any caching related items as well.
&lt;/p&gt;
&lt;p&gt;
The following code works for me:
&lt;/p&gt;
&lt;pre class="wiki"&gt;&amp;lt;?php
update_post_meta(7, 'testkey', array('Value1', 'Value2'));
$id = 1;
var_Dump(
get_post_meta(7, 'testkey', true),
get_post_meta(7, 'testkey', false),
get_post_meta($id, 'foobar', true),
get_post_meta($id, 'foobar', false),
get_post_meta($id, 'testkey', true),
get_post_meta($id, 'testkey', false)
);
?&amp;gt;
Output:
array
  0 =&amp;gt; string 'Value1' (length=6)
  1 =&amp;gt; string 'Value2' (length=6)
array
  0 =&amp;gt;
    array
      0 =&amp;gt; string 'Value1' (length=6)
      1 =&amp;gt; string 'Value2' (length=6)
string '' (length=0)
array
  empty
string '' (length=0)
array
  empty
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>thomasvonhassel</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:17:29 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:4/1302326249578608</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>thomasvonhassel</dc:creator>

      <pubDate>Sat, 09 Apr 2011 05:17:07 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:3/1302326227730382</guid>
      <description>&lt;p&gt;
Just did some more testing.
&lt;/p&gt;
&lt;p&gt;
If i query for a metakey that does not exist at all, for any post, it return an empty string. If i query for a key that exists in some posts, but not the current post, it returns an empty array.
&lt;/p&gt;
&lt;p&gt;
No filters or plugins activated that do anything with the metadata.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Sat, 09 Apr 2011 03:06:00 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:2/1302318360153760</guid>
      <description>&lt;p&gt;
I cant see how that'd be possible looking at the code.
&lt;/p&gt;
&lt;p&gt;
The only case would be, in the event that metakey is null/empty, then the $single param is not applied, as an empty metakey is asking for all metadata; applying single in that case doesn't make sense.
&lt;/p&gt;
&lt;p&gt;
Do you have any metadata filters? Any plugins activated?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #12821 (Merge get_posts() and get_pages()) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Sat, 09 Apr 2011 02:53:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/12821#comment:34</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/12821#comment:34/1302317596783548</guid>
      <description>&lt;p&gt;
Please remember to include 'suppress_filters' =&amp;gt; false in the get_posts() args.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) updated</title>
      
        <dc:creator>greuben</dc:creator>

      <pubDate>Sat, 09 Apr 2011 02:22:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087#comment:1/1302315751142844</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Can't reproduce it.
&lt;/p&gt;
&lt;pre class="wiki"&gt;$meta = get_post_meta( $post-&amp;gt;ID, 'metakey', true ); // returns string(0) ""
$meta = get_post_meta( $post-&amp;gt;ID, 'metakey' ); // returns array(0) { }
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16687 (%postname% permalinks should not trigger verbose rewrite rules) updated</title>
      
        <dc:creator>greuben</dc:creator>

      <pubDate>Sat, 09 Apr 2011 02:00:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16687#comment:11</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16687#comment:11/1302314438880243</guid>
      <description>&lt;p&gt;
A page and a post can have the same slug. If /%postname%/ permalink is used, the post is not reachable. Maybe &lt;code&gt;wp_unique_post_slug()&lt;/code&gt; can be modified but that might break existing links.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 23:17:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:21</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:21/1302304631512305</guid>
      <description>&lt;p&gt;
At this point, this is not a bug in WordPress. Please try the support forums: &lt;a class="ext-link" href="http://wordpress.org/support/forum/multisite"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://wordpress.org/support/forum/multisite&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 23:10:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:20</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:20/1302304255142749</guid>
      <description>&lt;p&gt;
Where are the blogs table located?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) closed</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 23:06:27 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:19</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:19/1302303987458425</guid>
      <description>invalid: &lt;p&gt;
Go into the $wpdb-&amp;gt;blogs table and edit the path for blog ID 1, to /, from /example.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 23:00:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:18</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:18/1302303645844550</guid>
      <description>&lt;pre class="wiki"&gt;Example.com/wp-admin/network?debug:
Attempted URL: www.example.com/wp-admin/network/
Network admin: true
Main site: true
Network admin URL: http://www.example.com/wp-admin/network/
stdClass Object
(
    [id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /
    [blog_id] =&amp;gt; 1
    [cookie_domain] =&amp;gt; example.com
    [site_name] =&amp;gt; example.com Sites
)
stdClass Object
(
    [blog_id] =&amp;gt; 1
    [site_id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /example
    [registered] =&amp;gt; 2010-10-15 23:12:39
    [last_updated] =&amp;gt; 2011-04-08 18:34:19
    [public] =&amp;gt; 1
    [archived] =&amp;gt; 0
    [mature] =&amp;gt; 0
    [spam] =&amp;gt; 0
    [deleted] =&amp;gt; 0
    [lang_id] =&amp;gt; 0
)
stdClass Object
(
    [blog_id] =&amp;gt; 1
    [site_id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /example
    [registered] =&amp;gt; 2010-10-15 23:12:39
    [last_updated] =&amp;gt; 2011-04-08 18:34:19
    [public] =&amp;gt; 1
    [archived] =&amp;gt; 0
    [mature] =&amp;gt; 0
    [spam] =&amp;gt; 0
    [deleted] =&amp;gt; 0
    [lang_id] =&amp;gt; 0
)
DOMAIN_CURRENT_SITE is www.example.com
PATH_CURRENT_SITE is /
SITE_ID_CURRENT_SITE is 1
BLOG_ID_CURRENT_SITE is 1
example1.example.com/wp-admin/network/?debug:
Attempted URL: www.example1.example.com/wp-admin/network/
Network admin: true
Main site: false
Network admin URL: http://www.example.com/wp-admin/network/
stdClass Object
(
    [id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /
    [blog_id] =&amp;gt; 1
    [cookie_domain] =&amp;gt; example.com
    [site_name] =&amp;gt; example.com Sites
)
stdClass Object
(
    [blog_id] =&amp;gt; 4
    [site_id] =&amp;gt; 1
    [domain] =&amp;gt; example1.example.com
    [path] =&amp;gt; /
    [registered] =&amp;gt; 2010-12-25 19:51:07
    [last_updated] =&amp;gt; 2011-03-31 00:18:53
    [public] =&amp;gt; 1
    [archived] =&amp;gt; 0
    [mature] =&amp;gt; 0
    [spam] =&amp;gt; 0
    [deleted] =&amp;gt; 0
    [lang_id] =&amp;gt; 0
)
stdClass Object
(
    [blog_id] =&amp;gt; 1
    [site_id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /example
    [registered] =&amp;gt; 2010-10-15 23:12:39
    [last_updated] =&amp;gt; 2011-04-08 18:34:19
    [public] =&amp;gt; 1
    [archived] =&amp;gt; 0
    [mature] =&amp;gt; 0
    [spam] =&amp;gt; 0
    [deleted] =&amp;gt; 0
    [lang_id] =&amp;gt; 0
)
DOMAIN_CURRENT_SITE is www.example.com
PATH_CURRENT_SITE is /
SITE_ID_CURRENT_SITE is 1
BLOG_ID_CURRENT_SITE is 1
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:57:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:17</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:17/1302303436887165</guid>
      <description>&lt;p&gt;
Sorry, I put the file in the wrong folder. Trying it out now.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:56:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:16</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:16/1302303398046664</guid>
      <description>&lt;p&gt;
I downloaded and activated that plugin but the code is the same as what I previously sent. I tried both a network activation and individual blog activation and the debug information was unchanged.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:49:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:15</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:15/1302302971888547</guid>
      <description>&lt;p&gt;
You're missing the new code. Try this plugin: &lt;a class="ext-link" href="http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.2.php"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.2.php&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:45:50 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:14</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:14/1302302750058044</guid>
      <description>&lt;p&gt;
Removed the code from admin.php. Activated the plugin.
&lt;/p&gt;
&lt;p&gt;
Here's what it said when I went to wp-admin/network:
&lt;/p&gt;
&lt;p&gt;
Attempted URL:
www.example.com/wp-admin/network/
Network admin: true
Main site: true
stdClass Object
(
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
[id] =&amp;gt; 1
[domain] =&amp;gt; www.example.com
[path] =&amp;gt; /
[blog_id] =&amp;gt; 1
[cookie_domain] =&amp;gt; example.com
[site_name] =&amp;gt; example.com Sites
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
)
stdClass Object
(
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
[blog_id] =&amp;gt; 1
[site_id] =&amp;gt; 1
[domain] =&amp;gt; www.example.com
[path] =&amp;gt; /example
[registered] =&amp;gt; 2010-10-15 23:12:39
[last_updated] =&amp;gt; 2011-04-08 18:34:19
[public] =&amp;gt; 1
[archived] =&amp;gt; 0
[mature] =&amp;gt; 0
[spam] =&amp;gt; 0
[deleted] =&amp;gt; 0
[lang_id] =&amp;gt; 0
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
)
&lt;/p&gt;
&lt;p&gt;
Here's what happened on a sub-blog:
Attempted URL: www.example1.example.com/wp-admin/network/
Network admin: true
Main site: false
stdClass Object
(
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
[id] =&amp;gt; 1
[domain] =&amp;gt; www.example.com
[path] =&amp;gt; /
[blog_id] =&amp;gt; 1
[cookie_domain] =&amp;gt; example.com
[site_name] =&amp;gt; example.com Sites
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
)
stdClass Object
(
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
[blog_id] =&amp;gt; 4
[site_id] =&amp;gt; 1
[domain] =&amp;gt; example1.example.com
[path] =&amp;gt; /
[registered] =&amp;gt; 2010-12-25 19:51:07
[last_updated] =&amp;gt; 2011-03-31 00:18:53
[public] =&amp;gt; 1
[archived] =&amp;gt; 0
[mature] =&amp;gt; 0
[spam] =&amp;gt; 0
[deleted] =&amp;gt; 0
[lang_id] =&amp;gt; 0
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>ticket-17090.2.php attached to Ticket #17090</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:38:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.2.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.2.php/1302302323168919</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:37:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:13</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:13/1302302226181291</guid>
      <description>&lt;p&gt;
No. Remove that, try this new version of the plugin.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:34:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:12</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:12/1302302049900203</guid>
      <description>&lt;p&gt;
When we moved the blog I did encounter redirection issues. When someone tried to access the old blog post URL it did not automatically redirect them to the new blog post URL. My host figured out whatever the issue was. I just checked right now and if I go a new blog post via the old blog directory URL, it was redirect me to the new blog directory URL.
&lt;/p&gt;
&lt;p&gt;
When I added the above code to my wp-admin/network/admin.php file and tried to access the Network Admin file, I received this error:
&lt;/p&gt;
&lt;p&gt;
Parse error: syntax error, unexpected T_ECHO in /home/stuffwel/public_html/wp-admin/network/admin.php on line 28
&lt;/p&gt;
&lt;p&gt;
This is where I inserted the code, is this correct?:
&amp;lt;?php
/&lt;strong&gt;
&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;WordPress Network Administration Bootstrap
*
&lt;/li&gt;&lt;li&gt;@package WordPress
&lt;/li&gt;&lt;li&gt;@subpackage Multisite
&lt;/li&gt;&lt;li&gt;@since 3.1.0
*/
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
define( 'WP_NETWORK_ADMIN', TRUE );
&lt;/p&gt;
&lt;p&gt;
/&lt;strong&gt; Load WordPress Administration Bootstrap */
require_once( dirname( dirname( &lt;span class="underline"&gt;FILE&lt;/span&gt; ) ) . '/admin.php' );
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;
if ( ! is_multisite() )
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
wp_die( &lt;span class="underline"&gt;( 'Multisite support is not enabled.' ) );
&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
if ( ! is_main_site() ) {
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
wp_redirect( network_admin_url() );
exit;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
}
&lt;/p&gt;
&lt;p&gt;
global $wpdb;
var_dump( $wpdb-&amp;gt;get_row( "SELECT * FROM $wpdb-&amp;gt;blogs WHERE blog_id = 1" ) );
var_dump( $wpdb-&amp;gt;get_row( "SELECT * FROM $wpdb-&amp;gt;site WHERE site_id = 1" ) );
foreach ( array( 'DOMAIN_CURRENT_SITE', 'PATH_CURRENT_SITE', 'SITE_ID_CURRENT_SITE', 'BLOG_ID_CURRENT_SITE', 'BLOGID_CURRENT_SITE' ) as $constant ) {
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
if ( defined( $constant )
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
echo "$constant is " . constant( $constant ) . "\n";
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;
}
&lt;/p&gt;
&lt;p&gt;
?&amp;gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:26:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:11</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:11/1302301618873833</guid>
      <description>&lt;p&gt;
Add this to that function:
&lt;/p&gt;
&lt;pre class="wiki"&gt;global $wpdb;
var_dump( $wpdb-&amp;gt;get_row( "SELECT * FROM $wpdb-&amp;gt;blogs WHERE blog_id = 1" ) );
var_dump( $wpdb-&amp;gt;get_row( "SELECT * FROM $wpdb-&amp;gt;site WHERE site_id = 1" ) );
foreach ( array( 'DOMAIN_CURRENT_SITE', 'PATH_CURRENT_SITE', 'SITE_ID_CURRENT_SITE', 'BLOG_ID_CURRENT_SITE', 'BLOGID_CURRENT_SITE' ) as $constant ) {
	if ( defined( $constant ) )
		echo "$constant is " . constant( $constant ) . "\n";
}
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:20:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:10/1302301243733959</guid>
      <description>&lt;p&gt;
Can you also add a line in there for &lt;code&gt;var_dump( network_admin_url() );&lt;/code&gt; and please run this on a sub blog as well.
&lt;/p&gt;
&lt;p&gt;
So you seem to have a discrepancy in your data here. I don't think you could have gotten the data you have via the UI, either, unless you edited internal options.
&lt;/p&gt;
&lt;p&gt;
If the main blog is 1, then the second [path] here should also match the first [path]. But it doesn't.
&lt;/p&gt;
&lt;p&gt;
I'm wondering if there's something odd going on in ms-settings.php, but if I had to guess, your network was moved incorrectly.
&lt;/p&gt;
&lt;p&gt;
I have some more debugging we can try next.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:17:03 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:9</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:9/1302301023823788</guid>
      <description>&lt;i&gt;Description&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 22:03:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:8/1302300205550129</guid>
      <description>&lt;p&gt;
Here's the message that occurs when I went to that URL:
&lt;/p&gt;
&lt;pre class="wiki"&gt;Attempted URL: www.example.com/wp-admin/network/
Network admin: true
Main site: true
stdClass Object
(
    [id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /
    [blog_id] =&amp;gt; 1
    [cookie_domain] =&amp;gt; example.com
    [site_name] =&amp;gt; Example.com Sites
)
stdClass Object
(
    [blog_id] =&amp;gt; 1
    [site_id] =&amp;gt; 1
    [domain] =&amp;gt; www.example.com
    [path] =&amp;gt; /example
    [registered] =&amp;gt; 2010-10-15 23:12:39
    [last_updated] =&amp;gt; 2011-04-08 18:34:19
    [public] =&amp;gt; 1
    [archived] =&amp;gt; 0
    [mature] =&amp;gt; 0
    [spam] =&amp;gt; 0
    [deleted] =&amp;gt; 0
    [lang_id] =&amp;gt; 0
)
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:55:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:7/1302299735158440</guid>
      <description>&lt;p&gt;
Like this: &lt;a class="ext-link" href="http://example.com/wp-admin/network/?debug"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://example.com/wp-admin/network/?debug&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:53:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:6/1302299626261736</guid>
      <description>&lt;p&gt;
I've activated the plugin on the network level. The Network Admin, example.com, and sub blogs all load correctly without the redirect loop notice. How do I "append ? debug" to them?
&lt;/p&gt;
&lt;p&gt;
Do I install a plugin on Firefox to debug pages? If so which plugin should I download that allows me to save the debug files?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>ticket-17090.php attached to Ticket #17090</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:31:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17090/ticket-17090.php/1302298319392799</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:31:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:5/1302298299666285</guid>
      <description>&lt;p&gt;
Activate the attached plugin. Go to various different URLs (including the network admin), but append ?debug to them. Capture the output. There should be enough there to diagnose. Also let us know which attempted URLs work and don't work without the plugin.
&lt;/p&gt;
&lt;p&gt;
Kill the plugin when done.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:13:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:4/1302297239572437</guid>
      <description>&lt;p&gt;
Could you send me the exact code that you want me to try out in wp-admin/network/admin.php on example.com and example1.example.com? What file should I edit for example1.example.com?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:06:51 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:3/1302296811427638</guid>
      <description>&lt;p&gt;
So, for the network, the domain should be example.com, and the path should be /.
&lt;/p&gt;
&lt;p&gt;
The domain is also example.com with a path of / for the main site.
&lt;/p&gt;
&lt;p&gt;
Thus, this code should be equivalent.
&lt;/p&gt;
&lt;p&gt;
Can you do a var_dump() on $current_blog and $current_site for both the main blog and another blog?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 21:03:08 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:2/1302296588085586</guid>
      <description>&lt;p&gt;
The blog was initially set up at example.com/example. When we switched to multi-site with Wordpress 3.0 or 3.1 and that main blog was moved to example.com. The sub blogs are examplesubblog.example.com
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:50:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090#comment:1/1302295837091094</guid>
      <description>&lt;p&gt;
We need some details about your setup. What's the domain (you can use example.com) and path of the main site, as well as other sites?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>admin.php attached to Ticket #17090</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:44:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17090/admin.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17090/admin.php/1302295449927962</guid>
      <description>&lt;p&gt;
This is my old admin.php file before the fix
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17090 (Multisite 3.1.1 Upgrade Redirect Loop Network Admin &amp; Plugins) created</title>
      
        <dc:creator>theshadowfan</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:42:28 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17090</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17090/1302295348988155</guid>
      <description>&lt;p&gt;
I have Wordpress MultiSite and was upgrading from 3.1 to 3.1.1. Both my Network Admin and my website displayed redirecting loop errors. The website was initally caused by the Plugins, so I disabled those and the redirect loop error was removed. However the Network Admin error remained. My server provider found code in the admin.php that was causing the issue:
&lt;/p&gt;
&lt;p&gt;
We had modifed the following code from the file "admin.php" in the path "/wp-admin/network".
&lt;/p&gt;
&lt;p&gt;
===========
Previous Code
&lt;/p&gt;
&lt;pre class="wiki"&gt;if ( ( $current_blog-&amp;gt;domain != $current_site-&amp;gt;domain ) || ( $current_blog-&amp;gt;path != $current_site-&amp;gt;path ) ) {
wp_redirect( network_admin_url() );
exit;
&lt;/pre&gt;&lt;p&gt;
===========
Corrected Code
&lt;/p&gt;
&lt;pre class="wiki"&gt;if ( ! is_main_site() ) {
wp_redirect( network_admin_url() );
exit;
&lt;/pre&gt;</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17084 (Remove width: 99.5%; from metaboxes) closed</title>
      
        <dc:creator>azaozz</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:35:53 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17084#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17084#comment:1/1302294953978740</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/17624" title="Remove width: 99.5% from metaboxes, props andrewryno, fixes #17084"&gt;[17624]&lt;/a&gt;) Remove width: 99.5% from metaboxes, props andrewryno, fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/17084" title="#17084: enhancement: Remove width: 99.5%; from metaboxes (closed: fixed)"&gt;#17084&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [17624]: Remove width: 99.5% from metaboxes, props andrewryno, fixes #17084</title>
      
        <dc:creator>azaozz</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:35:51 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/17624</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/17624/1302294951022728</guid>
      <description>&lt;p&gt;
Remove width: 99.5% from metaboxes, props andrewryno, fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/17084" title="#17084: enhancement: Remove width: 99.5%; from metaboxes (closed: fixed)"&gt;#17084&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #17088 (Edit image icon broken in Internet Explorer 9 for referenced images ...) updated</title>
      
        <dc:creator>azaozz</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:26:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17088#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17088#comment:1/1302294392619898</guid>
      <description>&lt;p&gt;
Seems caused by the workarounds/fixes for IE9 in TinyMCE. Should work properly after updating to the latest TinyMCE in trunk (that will be available in 3.2). I'll see if we can come up with a fix in the meantime.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17089 (Documentation for "Escaped with Slashes") created</title>
      
        <dc:creator>WraithKenny</dc:creator>

      <pubDate>Fri, 08 Apr 2011 20:07:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17089</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17089/1302293259824846</guid>
      <description>&lt;p&gt;
Documentation should be updated for &lt;code&gt;wp_filter_kses&lt;/code&gt;, and &lt;code&gt;wp_filter_post_kses&lt;/code&gt; to mention:
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
"Escaped with Slashes" is usually expected because &lt;code&gt;wp_magic_quotes&lt;/code&gt; escapes &lt;code&gt;$_GET&lt;/code&gt;, &lt;code&gt;$_POST&lt;/code&gt;, &lt;code&gt;$_COOKIE&lt;/code&gt;, &lt;code&gt;$_SERVER&lt;/code&gt;, and &lt;code&gt;$_REQUEST&lt;/code&gt; early (in the hook system, shortly after 'plugins_loaded' but earlier then 'init' or 'wp_loaded').
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
It might save a new developer much headache when attempting to choose and use sanitation functions.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 19:43:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:30</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:30/1302291810421688</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17019#comment:28" title="Comment 28"&gt;scribu&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
So, I don't think apply_query_filters() is worth the effort, just for those few get_posts() calls throughout the admin.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
If that's the final analysis can we shift focus back to getting 17019.diff approved for manually-assigned 'query_context' in $wp_query-&amp;gt;query_variables?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16996 (oEmbed: Allow custom arguments to be specified) updated</title>
      
        <dc:creator>jacobwg</dc:creator>

      <pubDate>Fri, 08 Apr 2011 18:45:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16996#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16996#comment:5/1302288338014580</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
New patch that accepts args in the following precedence order:
&lt;/p&gt;
&lt;p&gt;
Shortcode args, URL args, Default oEmbed args
&lt;/p&gt;
&lt;p&gt;
Also, this is for 3.2 as we're using a PHP 5 only function to parse the URL query string.  (no 3.2 version option?)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>16996-2.diff attached to Ticket #16996</title>
      
        <dc:creator>jacobwg</dc:creator>

      <pubDate>Fri, 08 Apr 2011 18:42:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16996/16996-2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16996/16996-2.diff/1302288126222273</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #15595 (add_menu_page position conflict) updated</title>
      
        <dc:creator>aaroncampbell</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:42:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/15595#comment:13</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/15595#comment:13/1302284577101891</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/15595#comment:11" title="Comment 11"&gt;vegasgeek&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
Believe me, I'm with you and would like to see this sorted out. But, if you need a quick workaround, instead of using position 3, use position 3.283764827483 or something similar. Unlikely it will run in to a conflict.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Thanks.  I had tried that and it didn't work.  Explanation:
&lt;/p&gt;
&lt;pre class="wiki"&gt;// Works as mentioned
add_menu_page('','',  8, '', '', null, '3.1');
// Ends up in position 3
add_menu_page('','',  8, '', '', null, 3.1);
&lt;/pre&gt;&lt;p&gt;
The reason is that numeric indices in an array are forced to int (truncated, not rounded) but non-numeric indices can be anything.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17086 (Update TinyMCE to 3.4.2) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:39:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17086#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17086#comment:1/1302284397927791</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:38:01 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:29</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:29/1302284281740402</guid>
      <description>&lt;p&gt;
If you want to squeeze out a little extra performance, just check is_admin() before adding the filters.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:36:18 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:28</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:28/1302284178800026</guid>
      <description>&lt;p&gt;
So, I don't think apply_query_filters() is worth the effort, just for those few get_posts() calls throughout the admin.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:34:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:27</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:27/1302284062331483</guid>
      <description>&lt;p&gt;
Actually, no, manually assigned contexts wouldn't solve the problem I'm thinking about:
&lt;/p&gt;
&lt;p&gt;
The same hook runs both on '/', as well as on '/tag/a-tag', as well as on '/a-page' etc.
&lt;/p&gt;
&lt;p&gt;
To filter those queries, you would need a dynamically generated context, which is what we already have, in the form of &lt;a class="ext-link" href="http://codex.wordpress.org/Conditional_Tags"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;conditional tags&lt;/a&gt;.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #15595 (add_menu_page position conflict) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:29:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/15595#comment:12</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/15595#comment:12/1302283799486478</guid>
      <description>&lt;p&gt;
If you want to remove a menu item, you should remove it explicitly, not plop something down on top of it. Most collisions are going to be accidental and the replacement behavior is confusing. We should avoid collisions.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #15595 (add_menu_page position conflict) updated</title>
      
        <dc:creator>vegasgeek</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:27:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/15595#comment:11</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/15595#comment:11/1302283675094457</guid>
      <description>&lt;p&gt;
Believe me, I'm with you and would like to see this sorted out. But, if you need a quick workaround, instead of using position 3, use position 3.283764827483 or something similar. Unlikely it will run in to a conflict.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:22:03 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:26</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:26/1302283323857581</guid>
      <description>&lt;p&gt;
That might be an idea.
&lt;/p&gt;
&lt;p&gt;
Correctly handling WP_Query hooks has got to be the most error-prone task in WP development that I know of, precisely because they can affect every single instance.
&lt;/p&gt;
&lt;p&gt;
Note that this would have to extend to all hooks: 'parse_query', 'pre_get_posts', 'the_posts' etc.
&lt;/p&gt;
&lt;p&gt;
Important consideration: correctly handling WP_Queries and/or hooks without a context.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #15595 (add_menu_page position conflict) updated</title>
      
        <dc:creator>aaroncampbell</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:20:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/15595#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/15595#comment:10/1302283230633621</guid>
      <description>&lt;p&gt;
I just thought I'd drop my thoughts here as I'm fighting this yet again.  I know that currently the $position parameter is treated as an absolute demand, but in reality I think the most intuitive way for this to work would be to check for a conflict and if one exists to shift everything up to make room for the new item.
&lt;/p&gt;
&lt;p&gt;
I just wanted to add a menu item near the top, but position 3 was taken, position 4 was the separator I wanted to be above, and position 5 was taken as well.  I ended up having to write some really ugly code to do what I wanted that grabbed the menu global, took the keys from it, reverse sorted them and filtered out anything &amp;lt; 4, ran through them all doing &lt;code&gt;$menu[$key+1] = $menu[$key]; unset($menu[$key])&lt;/code&gt;, had to &lt;code&gt;ksort($menu)&lt;/code&gt;, and then inserted my menu item into position 4.  It would have been a lot easier if I could have used array_splice, but that resets the keys.
&lt;/p&gt;
&lt;p&gt;
Maybe we could have add_menu_page() do something similar and then increment all the $_wp_last_*_menu vars that are &amp;gt;= the position we inserted into?
&lt;/p&gt;
&lt;p&gt;
It's all rather messy honestly.  I wish that there weren't all these empty spaces so we could simply array_splice in a new menu item and track the various sections using the $_wp_last_*_menu vars.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17088 (Edit image icon broken in Internet Explorer 9 for referenced images ...) created</title>
      
        <dc:creator>andrewspittle</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:14:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17088</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17088/1302282851983145</guid>
      <description>&lt;p&gt;
The "Edit Image" icon fails in IE 9 when trying to edit an image that has been inserted from an external URL with a caption. Instead of bringing up the Edit Image screen nothing happens.
&lt;/p&gt;
&lt;p&gt;
Removing the caption code for an externally referenced image allows it to then be edited normally.
&lt;/p&gt;
&lt;p&gt;
To reproduce:
&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;Create a new post in WP 3.1.1
&lt;/li&gt;&lt;li&gt;Add an image from an external URL with a caption. You could use the following code:
&lt;pre class="wiki"&gt;[caption align="alignnone" width="281" caption="Source: Wikipedia (by NASA)"]&amp;lt;img title="France" src="http://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Satellite_image_of_France_in_August_2002.jpg/780px-Satellite_image_of_France_in_August_2002.jpg" alt="France" width="281" height="216" /&amp;gt;[/caption]
&lt;/pre&gt;&lt;/li&gt;&lt;li&gt;Switch to the visual editor.
&lt;/li&gt;&lt;li&gt;Click on the image to bring up the two icons.
&lt;/li&gt;&lt;li&gt;Click the edit image icon.
&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;
Instead of bringing up the edit image dialogue the post will scroll to the top with the cursor before the first word. Nothing else happens.
&lt;/p&gt;
&lt;p&gt;
This was tested in IE 9 in an installation of 3.1.1. The same steps to reproduce will work correctly in Safari 5.0.4 and allow you to edit an image.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 17:05:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:25</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:25/1302282314079393</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17019#comment:24" title="Comment 24"&gt;scribu&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
apply_filters() is not affected, as the context check is in apply_filters_ref_array() - used mainly by WP_Query to the tune of 26 per typical query by my count.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Not for long: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/16661" title="#16661: enhancement: Review use of apply_filters_ref_array() and do_action_ref_array() (closed: wontfix)"&gt;#16661&lt;/a&gt;
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Then how about instead making WP_Query call a new function apply_query_filters() to support a context check and whatever other query-specific filtering issues might emerge?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:54:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:24</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:24/1302281654377050</guid>
      <description>&lt;blockquote class="citation"&gt;
&lt;p&gt;
apply_filters() is not affected, as the context check is in apply_filters_ref_array() - used mainly by WP_Query to the tune of 26 per typical query by my count.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Not for long: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/16661" title="#16661: enhancement: Review use of apply_filters_ref_array() and do_action_ref_array() (closed: wontfix)"&gt;#16661&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:52:13 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:23</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:23/1302281533753599</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17019#comment:21" title="Comment 21"&gt;scribu&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
To put it another way: you're moving the context check from the callback to the caller - apply_filters().
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Yes, but the caller is apply_filters_ref_array().
&lt;/p&gt;
&lt;p&gt;
And moving the context check to that caller also reduces the risk of query destruction by filters which incorrectly return null.  If the offending filter was added for a specific context, it will only wreck one query and not all of them.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:50:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:22</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:22/1302281446550836</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17019#comment:20" title="Comment 20"&gt;scribu&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
You're merely replacing the overhead caused by extra function calls with overhead caused by extra if checks.
&lt;/p&gt;
&lt;p&gt;
Given that add_filter() and apply_filters() are called so many times throughout a request, I'd be very surprized if this "strategic application" would yield any speed improvements.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Yes, the is_array() check in add_filter() was a mistake so I've removed that in the revised patch.  apply_filters() is not affected, as the context check is in apply_filters_ref_array() - used mainly by WP_Query to the tune of 26 per typical query by my count.
&lt;/p&gt;
&lt;p&gt;
Assuming a new optional arg to add_filter would not be appreciated either, I'm instead proposing a new function:
&lt;/p&gt;
&lt;pre class="wiki"&gt;function add_context_filter($tag, $context, $function_to_add, $priority = 10, $accepted_args = 1)
&lt;/pre&gt;&lt;p&gt;
Functionally equivalent alternatives welcome.
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
Anyway, first rule of optimization: show me the tests.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Test script and results are attached.  Now you might argue that the improvement for likely use cases is insignificant, but I don't see how you can reject this for performance concerns.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Perftest-Results.png attached to Ticket #17019</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:26:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17019/Perftest-Results.png</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17019/Perftest-Results.png/1302279990902042</guid>
      <description>&lt;p&gt;
Results of performance test (screen capture)
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>perftest-results.htm attached to Ticket #17019</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:21:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17019/perftest-results.htm</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17019/perftest-results.htm/1302279695906687</guid>
      <description>&lt;p&gt;
Results of performance test for various numbers of queriers and filters.
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>perftest_17019.php attached to Ticket #17019</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:19:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17019/perftest_17019.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17019/perftest_17019.php/1302279597980807</guid>
      <description>&lt;p&gt;
Evaluate execution time for superfluous call_user_func_array() calls by current apply_filters_ref_array(),  and execution time of additional empty statement to avoid those calls
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>media-library-attachment-filters_3.2.patch attached to Ticket #17019</title>
      
        <dc:creator>kevinB</dc:creator>

      <pubDate>Fri, 08 Apr 2011 16:17:53 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17019/media-library-attachment-filters_3.2.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17019/media-library-attachment-filters_3.2.patch/1302279473515484</guid>
      <description>&lt;p&gt;
Optional context arg limits application of WP_Query filters: add_filter( array('tagname', 'context'), 'myfunc' ); Core get_posts() calls pass query_context in $args
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #7485 (Terrible UX design on XFN section of Write-&gt;Link pages) updated</title>
      
        <dc:creator>tamme</dc:creator>

      <pubDate>Fri, 08 Apr 2011 15:15:14 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/7485#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/7485#comment:8/1302275714293160</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt;, &lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
I have implemented a possible solution for this problem. I do not know what the exact behavior should be, but its an example. Something to start this discussion again :-) (Srr for the second patch I had a timeout)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>7485.2.patch attached to Ticket #7485</title>
      
        <dc:creator>tamme</dc:creator>

      <pubDate>Fri, 08 Apr 2011 15:14:26 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/7485/7485.2.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/7485/7485.2.patch/1302275666802683</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #16849 (Add a filter for $overrides in wp_handle_upload()) updated</title>
      
        <dc:creator>iandunn</dc:creator>

      <pubDate>Fri, 08 Apr 2011 14:00:41 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16849#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16849#comment:5/1302271241495235</guid>
      <description>&lt;p&gt;
Looks great, thanks :)
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17087 (get_post_meta returns empty array when requesting non-exsistent post meta) created</title>
      
        <dc:creator>thomasvonhassel</dc:creator>

      <pubDate>Fri, 08 Apr 2011 13:33:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17087</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17087/1302269638139149</guid>
      <description>&lt;p&gt;
running this
&lt;/p&gt;
&lt;pre class="wiki"&gt;$meta = get_post_meta($post-&amp;gt;ID, 'metakey', true);
&lt;/pre&gt;&lt;p&gt;
on a non existent metakey returns an empty array instead of an empty string.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #17086 (Update TinyMCE to 3.4.2) created</title>
      
        <dc:creator>hebbet</dc:creator>

      <pubDate>Fri, 08 Apr 2011 13:33:21 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17086</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17086/1302269601847607</guid>
      <description>&lt;p&gt;
yesterday tinymce 3.4.2 was released:
&lt;a class="ext-link" href="http://tinymce.moxiecode.com/forum/viewtopic.php?id=25470"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://tinymce.moxiecode.com/forum/viewtopic.php?id=25470&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
Changelog:
&lt;a class="ext-link" href="http://tinymce.moxiecode.com/develop/changelog/index.php?type=tinymce"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://tinymce.moxiecode.com/develop/changelog/index.php?type=tinymce&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
it supports youtube's iframe code natively.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>7485.patch attached to Ticket #7485</title>
      
        <dc:creator>tamme</dc:creator>

      <pubDate>Fri, 08 Apr 2011 13:23:45 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/7485/7485.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/7485/7485.patch/1302269025848615</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>17085.diff attached to Ticket #17085</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 12:10:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/17085/17085.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/17085/17085.diff/1302264638874913</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17085 (Pass $user to 'wp_login' action) created</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 12:07:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17085</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17085/1302264431073211</guid>
      <description>&lt;p&gt;
Currently, the 'wp_login' hook only passes the 'user_login' credential, forcing callbacks to unnecessarily call get_userdata_by_login() again.
&lt;/p&gt;
&lt;p&gt;
wp_get_current_user() won't work, because the cookie will only be available on the next request.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #16557 (Ability to disable redirect_guess_404_permalink()) updated</title>
      
        <dc:creator>simonwheatley</dc:creator>

      <pubDate>Fri, 08 Apr 2011 11:29:36 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16557#comment:8</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16557#comment:8/1302262176181137</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/16557#comment:7" title="Comment 7"&gt;westi&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
Can we not just hook &lt;code&gt;redirect_guess_404_permalink()&lt;/code&gt; onto &lt;code&gt;redirect_canonical&lt;/code&gt; and be done with it - no new filters needed?
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
That would involve moving the point that the redirect guessing is done, which (from limited testing just now) means the current guessing behaviour doesn't happen. I favour the additional filter as per my most recent patch.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16557 (Ability to disable redirect_guess_404_permalink()) updated</title>
      
        <dc:creator>westi</dc:creator>

      <pubDate>Fri, 08 Apr 2011 11:19:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16557#comment:7</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16557#comment:7/1302261550948910</guid>
      <description>&lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/16557#comment:5" title="Comment 5"&gt;nacin&lt;/a&gt;:
&lt;/p&gt;
&lt;blockquote class="citation"&gt;
&lt;p&gt;
What I'd like to do is simply make redirect_guess_404_permalink() actually hook into redirect_canonical(), I guess as a filter since it returns data. Then the filter can be removed.
&lt;/p&gt;
&lt;p&gt;
So instead of:
&lt;/p&gt;
&lt;pre class="wiki"&gt;if ( ! $redirect_url )
	$redirect_url = redirect_guess_404_permalink();
&lt;/pre&gt;&lt;p&gt;
Instead do:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$redirect_url = apply_filters( 'redirect_guess_404_permalink', $redirect_url );
&lt;/pre&gt;&lt;p&gt;
And hook the function into there. Then it may be removed. Also, the filter name is lame -- perhaps can be more generic considering the positioning.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Can we not just hook &lt;code&gt;redirect_guess_404_permalink()&lt;/code&gt; onto &lt;code&gt;redirect_canonical&lt;/code&gt; and be done with it - no new filters needed?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16557 (Ability to disable redirect_guess_404_permalink()) updated</title>
      
        <dc:creator>simonwheatley</dc:creator>

      <pubDate>Fri, 08 Apr 2011 11:17:28 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16557#comment:6</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16557#comment:6/1302261448093722</guid>
      <description>&lt;p&gt;
@nacin - Thanks for the steer. Is the attached diff what you were looking for?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>new filter to replace redirect_guess_404_permalink.diff attached to Ticket #16557</title>
      
        <dc:creator>simonwheatley</dc:creator>

      <pubDate>Fri, 08 Apr 2011 11:16:48 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16557/new%20filter%20to%20replace%20redirect_guess_404_permalink.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16557/new%20filter%20to%20replace%20redirect_guess_404_permalink.diff/1302261408935790</guid>
      <description>&lt;p&gt;
New filter to replace redirect_guess_404_permalink
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #14749 (Scrollbar position jumping in the Appearance-&gt;Editor newcontent textarea) updated</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Fri, 08 Apr 2011 11:01:21 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/14749#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/14749#comment:2/1302260481838174</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Does this still happen in 3.1? I can't reproduce it.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16557 (Ability to disable redirect_guess_404_permalink()) updated</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 10:58:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16557#comment:5</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16557#comment:5/1302260339055036</guid>
      <description>&lt;p&gt;
What I'd like to do is simply make redirect_guess_404_permalink() actually hook into redirect_canonical(), I guess as a filter since it returns data. Then the filter can be removed.
&lt;/p&gt;
&lt;p&gt;
So instead of:
&lt;/p&gt;
&lt;pre class="wiki"&gt;if ( ! $redirect_url )
	$redirect_url = redirect_guess_404_permalink();
&lt;/pre&gt;&lt;p&gt;
Instead do:
&lt;/p&gt;
&lt;pre class="wiki"&gt;$redirect_url = apply_filters( 'redirect_guess_404_permalink', $redirect_url );
&lt;/pre&gt;&lt;p&gt;
And hook the function into there. Then it may be removed. Also, the filter name is lame -- perhaps can be more generic considering the positioning.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16557 (Ability to disable redirect_guess_404_permalink()) updated</title>
      
        <dc:creator>simonwheatley</dc:creator>

      <pubDate>Fri, 08 Apr 2011 10:50:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16557#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16557#comment:4/1302259855077048</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt;, &lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Version&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Added a possible patch which separates the where clauses into page related and post related, and allows plugin devs to filter either snippet of SQL.
&lt;/p&gt;
&lt;p&gt;
Patch created against 3.1.1.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>filters to tweak permalink guessing.diff attached to Ticket #16557</title>
      
        <dc:creator>simonwheatley</dc:creator>

      <pubDate>Fri, 08 Apr 2011 10:48:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16557/filters%20to%20tweak%20permalink%20guessing.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16557/filters%20to%20tweak%20permalink%20guessing.diff/1302259711613835</guid>
      <description>&lt;p&gt;
One possibility to allow filtering the where clauses for posts and pages
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>16849.patch attached to Ticket #16849</title>
      
        <dc:creator>jakub.tyrcha</dc:creator>

      <pubDate>Fri, 08 Apr 2011 09:51:07 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16849/16849.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16849/16849.patch/1302256267496936</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #16849 (Add a filter for $overrides in wp_handle_upload()) updated</title>
      
        <dc:creator>jakub.tyrcha</dc:creator>

      <pubDate>Fri, 08 Apr 2011 09:50:53 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16849#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16849#comment:4/1302256253094931</guid>
      <description>&lt;p&gt;
Ah, I'm deeply sorry - it must be the pre-gsoc rush. As for the place in code - I thought it was needed only when there are some existing overrides - I moved it to the suggested place now
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16955 (It's tricky to drag metaboxes) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 08:52:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16955#comment:37</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16955#comment:37/1302252779688316</guid>
      <description>&lt;p&gt;
Follow-up: &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/17084" title="#17084: enhancement: Remove width: 99.5%; from metaboxes (closed: fixed)"&gt;#17084&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17084 (Remove width: 99.5%; from metaboxes) created</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 08:49:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17084</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17084/1302252595943493</guid>
      <description>&lt;p&gt;
From &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/16955" title="#16955: defect (bug): It's tricky to drag metaboxes (closed: fixed)"&gt;#16955&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
See &lt;a class="ext-link" href="http://core.trac.wordpress.org/attachment/ticket/16955/Screenshot.png"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://core.trac.wordpress.org/attachment/ticket/16955/Screenshot.png&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
and &lt;a class="ext-link" href="http://core.trac.wordpress.org/attachment/ticket/16955/16955.diff"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://core.trac.wordpress.org/attachment/ticket/16955/16955.diff&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #16851 (No page editor showed whit large number of pages) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 07:50:29 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16851#comment:4</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16851#comment:4/1302249029284396</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16565 (Several E_NOTICE when using IXR_Client) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Fri, 08 Apr 2011 07:48:09 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16565#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16565#comment:10/1302248889850200</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Akismet issues can be reported on the plugins trac: &lt;a class="ext-link" href="http://plugins.trac.wordpress.org/newticket?component=akismet"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://plugins.trac.wordpress.org/newticket?component=akismet&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16565 (Several E_NOTICE when using IXR_Client) closed</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Fri, 08 Apr 2011 07:46:07 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16565#comment:9</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16565#comment:9/1302248767315285</guid>
      <description>worksforme: &lt;p&gt;
Just tested - all the notices issued by core don't appear in trunk any more. For the Akismet ones - please report to Automattic.
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #16851 (No page editor showed whit large number of pages) closed</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Fri, 08 Apr 2011 06:59:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16851#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16851#comment:3/1302245983835198</guid>
      <description>duplicate: &lt;blockquote class="citation"&gt;
&lt;p&gt;
and I'm confident Wordpress's SQL request has a "LIMIT" value.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
It doesn't. See &lt;a class="assigned ticket" href="http://core.trac.wordpress.org/ticket/9864" title="#9864: defect (bug): Performance issues with large number of pages (assigned)"&gt;#9864&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 05:26:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:21</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:21/1302240418529220</guid>
      <description>&lt;p&gt;
To put it another way: you're moving the context check from the callback to the caller - apply_filters().
&lt;/p&gt;
&lt;p&gt;
An &lt;code&gt;if&lt;/code&gt; in apply_filters() is called for &lt;em&gt;every&lt;/em&gt; filter, whereas an &lt;code&gt;if&lt;/code&gt; in the callback is called only for that particular filter.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17019 (add hooks for Media Library attachment counts) updated</title>
      
        <dc:creator>scribu</dc:creator>

      <pubDate>Fri, 08 Apr 2011 05:24:24 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17019#comment:20</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17019#comment:20/1302240264168248</guid>
      <description>&lt;blockquote class="citation"&gt;
&lt;p&gt;
Yes, I can use the context arg to return the value unfiltered, but isn't that needless overhead which will be noted as plugin performance drag but could be avoided via more strategic filter application?
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
You're merely replacing the overhead caused by extra function calls with overhead caused by extra if checks.
&lt;/p&gt;
&lt;p&gt;
Given that add_filter() and apply_filters() are called so many times throughout a request, I'd be very surprized if this "strategic application" would yield any speed improvements.
&lt;/p&gt;
&lt;p&gt;
Anyway, first rule of optimization: show me the tests.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17079 (Better Plugin Voting for Compatibility) closed</title>
      
        <dc:creator>nacin</dc:creator>

      <pubDate>Fri, 08 Apr 2011 05:01:35 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17079#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17079#comment:3/1302238895408857</guid>
      <description>duplicate</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #17079 (Better Plugin Voting for Compatibility) updated</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Fri, 08 Apr 2011 04:58:40 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17079#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17079#comment:2/1302238720456867</guid>
      <description>&lt;p&gt;
Duplicate of &lt;a class="new ticket" href="http://core.trac.wordpress.org/ticket/15971" title="#15971: feature request: Add ability to rate and report compatibility of plugins from wp-admin (new)"&gt;#15971&lt;/a&gt; ?
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17068 (Pasting text from Word does not have span tags cleaned anymore) updated</title>
      
        <dc:creator>solarissmoke</dc:creator>

      <pubDate>Fri, 08 Apr 2011 04:53:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17068#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17068#comment:3/1302238418046426</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Confirmed with the file you attached (though I can't create a new file that has the same problem). Tried with TinyMCE 3.4.2 and it still happens. Bug &lt;a class="ext-link" href="http://tinymce.moxiecode.com/develop/bugtracker_view.php?id=4284"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;reported upstream&lt;/a&gt;, let's see whether someone can figure out what is happening.
&lt;/p&gt;
&lt;p&gt;
Until then, this works for me: Copy all of the text from the problematic file, paste it into a new Word document, and then copy-&amp;gt;paste that into TinyMCE, and it works (strips out all the cruft). Weird.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17083 (Users experiencing fatal memory errors in various activities) closed</title>
      
        <dc:creator>bennebw</dc:creator>

      <pubDate>Fri, 08 Apr 2011 04:02:43 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17083#comment:2</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17083#comment:2/1302235363208153</guid>
      <description>wontfix: &lt;p&gt;
Replying to &lt;a class="ticket" href="http://core.trac.wordpress.org/ticket/17083#comment:1" title="Comment 1"&gt;dd32&lt;/a&gt;:
&lt;/p&gt;
&lt;p&gt;
Thanks for the suggestions.  I tried both methods and get 40M for the memory_limit using the phpinfo and ini_get methods.  The 256M I saw was probably due to the WP Admin change that you mentioned above.
&lt;/p&gt;
&lt;p&gt;
I tried a little debugging by re-installing WP 3.1.1, and it wasn't bombing out.  So I activated a bunch of plugins and was able to get it to crash and give this message:
&lt;/p&gt;
&lt;p&gt;
Fatal error: Out of memory (allocated 29622272) (tried to allocate 3096504 bytes) in /homepages/38/d151202375/htdocs/pixoox/wp-includes/class-http.php on line 1426
&lt;/p&gt;
&lt;p&gt;
So, from that message, I'm guessing it's trying to allocate a total of 29.6M + 3M or around 32.6M all total.  Is that right?  If so, then you'd expect it to be ok if the memory limit is 40M.  (I also put the ini_get('memory_limit') in the default-constants.php file after the conditional setting of the memory limit that you mentioned above and it still showed 40M as expected.
&lt;/p&gt;
&lt;p&gt;
It's definitely not the WP_MEMORY_LIMIT item.  I didn't see any other ini_set('memory_limit') calls in a search of the WP code that looked like it would cause it to set it lower than the 256.
&lt;/p&gt;
&lt;p&gt;
Not sure what gives, but it is a head scratcher for me.  All the same, a simple workaround is to deactivate a few plugins and do the upgrade, and drive on.
&lt;/p&gt;
&lt;p&gt;
Thanks again for taking a look.
&lt;/p&gt;
&lt;p&gt;
Byron
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #10646 (Admin Menus Shouldn't Jump Around on Pageload) updated</title>
      
        <dc:creator>sbressler</dc:creator>

      <pubDate>Fri, 08 Apr 2011 03:39:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/10646#comment:26</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/10646#comment:26/1302233978685172</guid>
      <description>&lt;p&gt;
Excited to see this applied - this should significantly speed up the seeming load time of all admin pages!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16849 (Add a filter for $overrides in wp_handle_upload()) updated</title>
      
        <dc:creator>iandunn</dc:creator>

      <pubDate>Fri, 08 Apr 2011 03:25:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16849#comment:3</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16849#comment:3/1302233147202451</guid>
      <description>&lt;p&gt;
Hey Jakub, thanks for writing the patch. I'm not sure it's correct, though. I think the filter should actually go before &lt;code&gt;if ( is_array( $overrides ) )&lt;/code&gt;, shouldn't it?
&lt;/p&gt;
&lt;p&gt;
We want to let a plugin modify/overwrite $overrides before $overrides gets used. The way the patch is written now, the filter could only be used if $overrides was already passed in, which won't always be the case.
&lt;/p&gt;
&lt;p&gt;
Also, you forgot to wrap the &lt;code&gt;if&lt;/code&gt; block in brackets, so the &lt;code&gt;extract()&lt;/code&gt; statement would get called even if the condition was false.
&lt;/p&gt;
&lt;p&gt;
I think below &lt;code&gt;$file = apply_filters( 'wp_handle_upload_prefilter', $file );&lt;/code&gt; would be a good place for it. It doesn't need to be wrapped in an &lt;code&gt;if&lt;/code&gt; statement or anything, so it would just be
&lt;/p&gt;
&lt;pre class="wiki"&gt;$file = apply_filters( 'wp_handle_upload_prefilter', $file );
$overrides = apply_filters( 'wp_handle_upload_overrides', $overrides );
&lt;/pre&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #16687 (%postname% permalinks should not trigger verbose rewrite rules) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 08 Apr 2011 02:50:03 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/16687#comment:10</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/16687#comment:10/1302231003852077</guid>
      <description>&lt;p&gt;
That's the plugin I worked on briefly. I don't recall the specifics, but it's not complete. Something wasn't working. I throw it up here with that caveat just to get some ideas flowing.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>non-verbose-page-rules.php attached to Ticket #16687</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 08 Apr 2011 02:48:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/16687/non-verbose-page-rules.php</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/16687/non-verbose-page-rules.php/1302230927743355</guid>
      <description>&lt;p&gt;
Partial solution
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #17083 (Users experiencing fatal memory errors in various activities) updated</title>
      
        <dc:creator>dd32</dc:creator>

      <pubDate>Fri, 08 Apr 2011 01:23:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17083#comment:1</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17083#comment:1/1302225813427691</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
The WordPress Admin sets the memory limit to 256M if it can for expensive operations (Upgrades and Image editing).
&lt;/p&gt;
&lt;p&gt;
The rest of WordPress runs on 32M for single-site and 64M for multisite like you've noticed.
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="http://core.trac.wordpress.org/browser/trunk//wp-includes/default-constants.php#L38"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;A few lines down from that&lt;/a&gt;, you'll find it's only set to 32/64M if thats greater than the current memory limit (Note: If you express the php memory limit in Gigabytes, you'll run into &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/14889" title="#14889: defect (bug): Memory Comparison Broken / WordPress Memory Limit (closed: fixed)"&gt;#14889&lt;/a&gt;)
&lt;/p&gt;
&lt;p&gt;
I'd be questioning what the memory limit is -really- set to.. try phpinfo(); in it's own file and check what the memory_limit claimed there is? or add &lt;code&gt;echo init_get('memory_limit');&lt;/code&gt; to your wp-config.php file temporarily to check what the actual PHP value is before WordPress loads.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #17083 (Users experiencing fatal memory errors in various activities) created</title>
      
        <dc:creator>bennebw</dc:creator>

      <pubDate>Fri, 08 Apr 2011 01:13:18 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/17083</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/17083/1302225198208247</guid>
      <description>&lt;p&gt;
A number of users have been reporting on blogs and in the WP forum that they are getting fatal memory errors when upgrading to WP 3.1.1 or upgrading plugins, also in some image resizing situations.
&lt;/p&gt;
&lt;p&gt;
I experienced this on several sites while upgrading to WP 3.1.1.  My host has a memory limit of 256MB and the error message I got said it was trying to allocate around 30MB.  When I deactivated a couple of plugins, everything went fine.
&lt;/p&gt;
&lt;p&gt;
I did a quick search of WP 3.1 and found the following lines in wp-includes/default-constants.php:
&lt;/p&gt;
&lt;pre class="wiki"&gt;// set memory limits
	if ( !defined('WP_MEMORY_LIMIT') ) {
		if( is_multisite() ) {
			define('WP_MEMORY_LIMIT', '64M');
		} else {
			define('WP_MEMORY_LIMIT', '32M');
		}
	}
&lt;/pre&gt;&lt;p&gt;
So, it looks like for single blog sites (non-MU), that is setting a constant for 32M.  Could this be the root of why folks are blowing memory even if they've got 256MB from the host?
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item>
   </channel>
</rss>