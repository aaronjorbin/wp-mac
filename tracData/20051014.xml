<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>WordPress Trac</title>
    <link>http://core.trac.wordpress.org/timeline</link>
    <description>Trac Timeline</description>
    <language>en-US</language>
    <generator>Trac 1.2.2</generator>
    <image>
      <title>WordPress Trac</title>
      <url>http://core.trac.wordpress.org/chrome/site/your_project_logo.png</url>
      <link>http://core.trac.wordpress.org/timeline</link>
    </image>
    <item>
      <title>Ticket #1240 (wp-login.php redirects level 0 users to /wp-admin/profile.php) reopened</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 14 Oct 2005 22:20:47 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1240</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1240/1129328447000000</guid>
      <description></description>
      <category>reopenedticket</category>
    </item><item>
      <title>Ticket #1240 (wp-login.php redirects level 0 users to /wp-admin/profile.php) closed</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 14 Oct 2005 22:20:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1240</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1240/1129328439000000</guid>
      <description></description>
      <category>closedticket</category>
    </item><item>
      <title>Ticket #1240 (wp-login.php redirects level 0 users to /wp-admin/profile.php) updated</title>
      
        <dc:creator>markjaquith</dc:creator>

      <pubDate>Fri, 14 Oct 2005 22:20:22 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1240</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1240/1129328422000000</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Status&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1759 (Hmm, maybe people will want images in static Pages, too.) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 21:52:58 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1759</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1759/1129326778000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2951" title="Image uploading for pages.  Props skeltoac.  fixes #1759"&gt;[2951]&lt;/a&gt;) Image uploading for pages.  Props skeltoac.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1759" title="#1759: enhancement: Hmm, maybe people will want images in static Pages, too. (closed: fixed)"&gt;#1759&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [2951]: Image uploading for pages.  Props skeltoac.  fixes #1759</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 21:52:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2951</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2951/1129326776472386</guid>
      <description>&lt;p&gt;
Image uploading for pages.  Props skeltoac.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1759" title="#1759: enhancement: Hmm, maybe people will want images in static Pages, too. (closed: fixed)"&gt;#1759&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #1240 (wp-login.php redirects level 0 users to /wp-admin/profile.php) updated</title>
      
        <dc:creator>error</dc:creator>

      <pubDate>Fri, 14 Oct 2005 20:57:42 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1240</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1240/1129323462000000</guid>
      <description>&lt;i&gt;Keywords&lt;/i&gt;, &lt;i&gt;Version&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
hm, this isn't exactly fixed...something must have gone wrong somewhere.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1762 (permalinks structure not i18n friendly) created</title>
      
        <dc:creator>anatman</dc:creator>

      <pubDate>Fri, 14 Oct 2005 19:41:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1762</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1762/1129318919000000</guid>
      <description>&lt;p&gt;
The permalinks structure needs to get fields in the admin interface for $author_base, $search_base, $comments_base and $feed_base (all in classes.php), and for choosing the word used in paginating the site ("page" is hardcoded in $pageregex (classes.php) and in $page_modstring and $page_modregex (both in template-functions-links.php)), or these need to be internationalized.
The way it is harcoded now we have the english words "author", "comments", "feed" and "page" appearing in the permalinks.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1761 (Add ordered list tags to kses) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 18:52:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1761</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1761/1129315966000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2950" title="Add ordered list tags to kses. fixes #1761"&gt;[2950]&lt;/a&gt;) Add ordered list tags to kses. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1761" title="#1761: defect (bug): Add ordered list tags to kses (closed: fixed)"&gt;#1761&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [2950]: Add ordered list tags to kses. fixes #1761</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 18:52:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2950</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2950/1129315964939711</guid>
      <description>&lt;p&gt;
Add ordered list tags to kses. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1761" title="#1761: defect (bug): Add ordered list tags to kses (closed: fixed)"&gt;#1761&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Changeset [2949]: wp_attach_object threading fix ups.  fixes #1760 #1758</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 18:06:23 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2949</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2949/1129313183014851</guid>
      <description>&lt;p&gt;
wp_attach_object threading fix ups.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1760" title="#1760: defect (bug): Cleanup wp_attach_object() (closed: fixed)"&gt;#1760&lt;/a&gt; &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1758" title="#1758: defect (bug): thread safe wp_attach_object (closed: fixed)"&gt;#1758&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Tickets #1758,​1760 batch updated</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 18:06:23 GMT</pubDate>
      <link>http://core.trac.wordpress.org/query?id=1758%2C1760</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/query?id=1758%2C1760/1129313183000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2949" title="wp_attach_object threading fix ups.  fixes #1760 #1758"&gt;[2949]&lt;/a&gt;) wp_attach_object threading fix ups.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1760" title="#1760: defect (bug): Cleanup wp_attach_object() (closed: fixed)"&gt;#1760&lt;/a&gt; &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1758" title="#1758: defect (bug): thread safe wp_attach_object (closed: fixed)"&gt;#1758&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>batchmodify</category>
    </item><item>
      <title>Ticket #1758 (thread safe wp_attach_object) updated</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Fri, 14 Oct 2005 18:02:55 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1758</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1758/1129312975000000</guid>
      <description>&lt;p&gt;
That extra post_name sanitation step isn't redudant.  It's needed if the previous steps resulted in an empty post_name, which can happen in certain circumstances.  In this event, the second call to sanitize_title() sets the post_name to the post ID.  Other than that, looks good.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>diff.txt attached to Ticket #1761</title>
      
        <dc:creator>donncha</dc:creator>

      <pubDate>Fri, 14 Oct 2005 15:32:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1761/diff.txt</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1761/diff.txt/1129303979000000</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1761 (Add ordered list tags to kses) created</title>
      
        <dc:creator>donncha</dc:creator>

      <pubDate>Fri, 14 Oct 2005 15:32:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1761</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1761/1129303966000000</guid>
      <description>&lt;p&gt;
This patch will add the ordered list tags: &amp;lt;ol&amp;gt; and &amp;lt;/ol&amp;gt; to the kses script.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>diff.txt attached to Ticket #1760</title>
      
        <dc:creator>donncha</dc:creator>

      <pubDate>Fri, 14 Oct 2005 11:19:57 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1760/diff.txt</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1760/diff.txt/1129288797000000</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1760 (Cleanup wp_attach_object()) created</title>
      
        <dc:creator>donncha</dc:creator>

      <pubDate>Fri, 14 Oct 2005 11:17:56 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1760</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1760/1129288676000000</guid>
      <description>&lt;p&gt;
This patch cleans up wp_attach_object() and removes the use of "SHOW TABLE STATUS" to find the post_id.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>index.php.trunk.patch attached to Ticket #1691</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 09:08:59 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1691/index.php.trunk.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1691/index.php.trunk.patch/1129280939000000</guid>
      <description>&lt;p&gt;
Patched against Rev. 2869
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>template-functions-links.php.trunk.patch attached to Ticket #1691</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 09:08:17 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1691/template-functions-links.php.trunk.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1691/template-functions-links.php.trunk.patch/1129280897000000</guid>
      <description>&lt;p&gt;
Patched against Rev. 2861
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>template-functions-general.php.trunk.patch attached to Ticket #1691</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 09:07:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1691/template-functions-general.php.trunk.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1691/template-functions-general.php.trunk.patch/1129280853000000</guid>
      <description>&lt;p&gt;
Patched against Rev. 2935
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1691 (Missing Hooks for Widget Filters) updated</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 09:06:16 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1691/1129280776000000</guid>
      <description>&lt;p&gt;
Occurred to me that you'd like those patches against the trunk rather than 1.5.2. So here we go...
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1691 (Missing Hooks for Widget Filters) updated</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 07:51:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1691/1129276271000000</guid>
      <description>&lt;i&gt;Severity&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>index.php.patch attached to Ticket #1691</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 07:49:38 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1691/index.php.patch</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1691/index.php.patch/1129276178000000</guid>
      <description>&lt;p&gt;
Patched admin index file
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1691 (Missing Hooks for Widget Filters) updated</title>
      
        <dc:creator>GreyGore</dc:creator>

      <pubDate>Fri, 14 Oct 2005 07:48:37 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1691</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1691/1129276117000000</guid>
      <description>&lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
It's also come to my attention that a user logging in has access to post, comment and category information on the dashboard, whether or not that user has access to any other pages in the admin. Therefore, I'd like to add some more filters to wp-admin/index.php to address these: dashboard_posts_join, dashboard_posts_where, dashboard_comments_join, dashboard_comments_where, dashboard_categories_join and dashboard_categories_where.
&lt;/p&gt;
&lt;p&gt;
I've attached a patch to add these filters.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1663 (User privilege escalation :: Users can use XSS/XSRF to boost from lvl ...) updated</title>
      
        <dc:creator>nessence</dc:creator>

      <pubDate>Fri, 14 Oct 2005 06:28:07 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1663</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1663/1129271287000000</guid>
      <description>&lt;i&gt;Cc&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Mail.app prompts "This message contains unloaded images." Gmail says "External images are not displayed." (I wonder if they scrub javascript, never checked personally)
&lt;/p&gt;
&lt;p&gt;
Why not a message "Javascript in this post was blocked." SRC and HREFs can be scrubbed of wp-*.php (or whatever's necessary). SRC and HREF filters would necessitate JS blocking, b/c JS could be used to dynamically build the wp-* URIs (as previously noted in the ticket).
&lt;/p&gt;
&lt;p&gt;
An admin and/or user preference can be made available to adjust this setting with warnings if user prefers to allow javascript to be posted and executed. The default would be to allow javascript in content but block execution (output). Javascript is too dynamic to realistically filter it for XSS.
&lt;/p&gt;
&lt;p&gt;
Regarding file extensions, it works both ways and images &lt;em&gt;can&lt;/em&gt; have odd extensions (for example, a php script that generates an image for a counter). However, the same solution could apply. A message such as "Some images were unrecognized and not displayed."
&lt;/p&gt;
&lt;p&gt;
Each of these message would have a corresponding "Load JavaScript" or "Load Images" button (maybe even with a warning).
&lt;/p&gt;
&lt;p&gt;
Blocking javascript alltogether isn't to bad. Although arguably, it doesn't really belong in &lt;em&gt;content&lt;/em&gt;.
&lt;/p&gt;
&lt;p&gt;
Last, the admin could provide 'safe' javascripts the users can use which are called via markup in the post and not HTML tags. In 'non-admin' posts, there could be a list of 'allowed' tags, which the poster has to adhere to. The admin could have some control over this.
&lt;/p&gt;
&lt;p&gt;
&lt;a class="ext-link" href="http://www.sandsprite.com/Sleuth/papers/RealWorld_XSS_2.html"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.sandsprite.com/Sleuth/papers/RealWorld_XSS_2.html&lt;/a&gt;
&lt;a class="ext-link" href="http://namb.la/popular/tech.html"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://namb.la/popular/tech.html&lt;/a&gt;
&lt;a class="ext-link" href="http://ha.ckers.org/xss.html"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ha.ckers.org/xss.html&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
Hope this helps. Sort of requires some major changes/decisions, so a patch would probably be a fruitless endeavor at this point.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1759 (Hmm, maybe people will want images in static Pages, too.) updated</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Fri, 14 Oct 2005 06:15:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1759</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1759/1129270525000000</guid>
      <description>&lt;i&gt;Version&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>edit-page-form.2.diff attached to Ticket #1759</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Fri, 14 Oct 2005 06:14:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1759/edit-page-form.2.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1759/edit-page-form.2.diff/1129270479000000</guid>
      <description>&lt;p&gt;
Now with ringmaster's proposed hook
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1747 (edit-form-advanced hook to override upload frame src) updated</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Fri, 14 Oct 2005 06:11:40 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1747</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1747/1129270300000000</guid>
      <description>&lt;i&gt;Severity&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
Cool, ringmaster!
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>edit-page-form.diff attached to Ticket #1759</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Fri, 14 Oct 2005 05:47:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1759/edit-page-form.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1759/edit-page-form.diff/1129268864000000</guid>
      <description></description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1759 (Hmm, maybe people will want images in static Pages, too.) created</title>
      
        <dc:creator>skeltoac</dc:creator>

      <pubDate>Fri, 14 Oct 2005 05:47:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1759</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1759/1129268851000000</guid>
      <description>&lt;p&gt;
Just a few lines is all it takes to add image uploading to the Write Page panel.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1471 (404s show the index page) updated</title>
      
        <dc:creator>ChrisHasenpflug</dc:creator>

      <pubDate>Fri, 14 Oct 2005 01:49:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1471</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1471/1129254550000000</guid>
      <description>&lt;i&gt;Severity&lt;/i&gt; changed&lt;br/&gt;&lt;p&gt;
In addition, a 404'd page returns a status of 200 (OK).  This is neither correct nor does it work properly with Google Sitemaps.
&lt;/p&gt;
</description>
      <category>editedticket</category>
    </item><item>
      <title>functions-post.php.diff attached to Ticket #1758</title>
      
        <dc:creator>nessence</dc:creator>

      <pubDate>Thu, 13 Oct 2005 21:16:20 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1758/functions-post.php.diff</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1758/functions-post.php.diff/1129238180000000</guid>
      <description>&lt;p&gt;
diff file for ticket &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1758" title="#1758: defect (bug): thread safe wp_attach_object (closed: fixed)"&gt;#1758&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item><item>
      <title>Ticket #1758 (thread safe wp_attach_object) created</title>
      
        <dc:creator>nessence</dc:creator>

      <pubDate>Thu, 13 Oct 2005 21:15:50 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1758</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1758/1129238150000000</guid>
      <description>&lt;p&gt;
Attached is a diff file (generated using &lt;code&gt;svn diff -r HEAD functions-post.php &amp;gt; functions-post.php.diff&lt;/code&gt;)
&lt;/p&gt;
&lt;p&gt;
Please see ticket &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1753" title="#1753: defect (bug): INSERT queries which are not thread safe (closed: fixed)"&gt;#1753&lt;/a&gt; for more information. This diff also removes redundant sanitation of the $post_name. The $alt_post_name and empty($post_name) checks seem to provide the same functionality. Excepting a post saved with no name, for which the post_ID is no longer used, albeit this is probably watched in other places and you could easily add another condition to the $alt_post_name code. Objects may not always be images and may thus necessitate a 'draft' status; so I also applied the draft condition check &lt;em&gt;from&lt;/em&gt; the wp_insert_post function &lt;em&gt;to&lt;/em&gt; the wp_attach_object function.
&lt;/p&gt;
&lt;p&gt;
(sorry I took so long to submit some code (6 months!), I had a few mishaps)
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1757 (Category caculation not right) created</title>
      
        <dc:creator>Melodiefabrieknl</dc:creator>

      <pubDate>Thu, 13 Oct 2005 19:33:25 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1757</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1757/1129232005000000</guid>
      <description>&lt;p&gt;
On my site I have this subcategory 'Propellerhead Reason' showing it contains 29 posts. If I check the Admin-page (Manage-Categories) it states 30 posts!
&lt;/p&gt;
&lt;p&gt;
This seems to be a bug. Are the developers aware of it?
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1756 (page can not be deleted) created</title>
      
        <dc:creator>Melodiefabrieknl</dc:creator>

      <pubDate>Thu, 13 Oct 2005 19:31:08 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1756</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1756/1129231868000000</guid>
      <description>&lt;p&gt;
check this:
&lt;a class="ext-link" href="http://melodiefabriek.nl/test/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://melodiefabriek.nl/test/&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
this page 'test' is no longer available in Wordpress.
&lt;/p&gt;
&lt;p&gt;
but when I create a folder on the server with the 'test' name, it shows different content, which makes sense. but when I delete it from the server, the post re-appears but is not available in Wordpress. it is NOT available under Manage -&amp;gt; Pages!
&lt;/p&gt;
&lt;p&gt;
feels like a bug.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1755 (page can not be deleted) created</title>
      
        <dc:creator>Melodiefabrieknl</dc:creator>

      <pubDate>Thu, 13 Oct 2005 19:30:33 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1755</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1755/1129231833000000</guid>
      <description>&lt;p&gt;
check this:
&lt;a class="ext-link" href="http://melodiefabriek.nl/test/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://melodiefabriek.nl/test/&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
this page 'test' is no longer available in Wordpress.
&lt;/p&gt;
&lt;p&gt;
but when I create a folder on the server with the 'test' name, it shows different content, which makes sense. but when I delete it from the server, the post re-appears but is not available in Wordpress. it is NOT available under Manage -&amp;gt; Pages!
&lt;/p&gt;
&lt;p&gt;
feels like a bug.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1753 (INSERT queries which are not thread safe) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 19:06:32 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1753</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1753/1129230392000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2948" title="Remove thread unsafe Auto_increment tricks.  fixes #1753"&gt;[2948]&lt;/a&gt;) Remove thread unsafe Auto_increment tricks.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1753" title="#1753: defect (bug): INSERT queries which are not thread safe (closed: fixed)"&gt;#1753&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [2948]: Remove thread unsafe Auto_increment tricks.  fixes #1753</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 19:06:31 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2948</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2948/1129230391975344</guid>
      <description>&lt;p&gt;
Remove thread unsafe Auto_increment tricks.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1753" title="#1753: defect (bug): INSERT queries which are not thread safe (closed: fixed)"&gt;#1753&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #1750 (Category cleanup) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:59:11 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1750</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1750/1129229951000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2947" title="Oops.  Patch didn't apply cleanly.  fixes #1750"&gt;[2947]&lt;/a&gt;) Oops.  Patch didn't apply cleanly.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1750" title="#1750: defect (bug): Category cleanup (closed: fixed)"&gt;#1750&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [2947]: Oops.  Patch didn't apply cleanly.  fixes #1750</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:59:10 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2947</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2947/1129229950164728</guid>
      <description>&lt;p&gt;
Oops.  Patch didn't apply cleanly.  fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1750" title="#1750: defect (bug): Category cleanup (closed: fixed)"&gt;#1750&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #1753 (INSERT queries which are not thread safe) updated</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:18:30 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1753</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1753/1129227510000000</guid>
      <description>&lt;i&gt;Owner&lt;/i&gt;, &lt;i&gt;Milestone&lt;/i&gt; changed&lt;br/&gt;</description>
      <category>editedticket</category>
    </item><item>
      <title>Ticket #1750 (Category cleanup) closed</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:17:06 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1750</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1750/1129227426000000</guid>
      <description>fixed: &lt;p&gt;
(In &lt;a class="changeset" href="http://core.trac.wordpress.org/changeset/2946" title="Category insert cleanup from donncha. fixes #1750"&gt;[2946]&lt;/a&gt;) Category insert cleanup from donncha. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1750" title="#1750: defect (bug): Category cleanup (closed: fixed)"&gt;#1750&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>closedticket</category>
    </item><item>
      <title>Changeset [2946]: Category insert cleanup from donncha. fixes #1750</title>
      
        <dc:creator>ryan</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:17:05 GMT</pubDate>
      <link>http://core.trac.wordpress.org/changeset/2946</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/changeset/2946/1129227425245203</guid>
      <description>&lt;p&gt;
Category insert cleanup from donncha. fixes &lt;a class="closed ticket" href="http://core.trac.wordpress.org/ticket/1750" title="#1750: defect (bug): Category cleanup (closed: fixed)"&gt;#1750&lt;/a&gt;
&lt;/p&gt;
</description>
      <category>changeset</category>
    </item><item>
      <title>Ticket #1754 (Feature request: pass reason for moderation/spam flag) created</title>
      
        <dc:creator>dougal</dc:creator>

      <pubDate>Thu, 13 Oct 2005 18:12:39 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1754</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1754/1129227159000000</guid>
      <description>&lt;p&gt;
It could be useful for anti-spam plugins if the reason(s) for why a comment was flagged as spam could be retrieved. For example, whether the match occured in the content, URI, email address, client IP, etc., and which moderation/blacklist term matched.
&lt;/p&gt;
&lt;p&gt;
This would assist in identifying the cause of a false-positive match, and the aggregated data could also be used to analyze which terms are matched most often.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>Ticket #1753 (INSERT queries which are not thread safe) created</title>
      
        <dc:creator>nessence</dc:creator>

      <pubDate>Thu, 13 Oct 2005 17:42:44 GMT</pubDate>
      <link>http://core.trac.wordpress.org/ticket/1753</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/ticket/1753/1129225364000000</guid>
      <description>&lt;p&gt;
The example code below appears in multiple places (most importantly, in functions-post.php):
&lt;/p&gt;
&lt;pre class="wiki"&gt;        // Get the FOO ID.
        if ( $update ) {
                $FOO_ID = $ID;
        } else {
                $id_result = $wpdb-&amp;gt;get_row("SHOW TABLE STATUS LIKE '$wpdb-&amp;gt;FOOs'");
                $FOO_ID = $id_result-&amp;gt;Auto_increment;
        }
&lt;/pre&gt;&lt;p&gt;
This is not thread safe and most importantly may cause other problems in a multi-user environment. Because apache is a multi-threaded environment, if two users tried to post at the same time, they could get assigned the same '$id_result'.
&lt;/p&gt;
&lt;p&gt;
One solution is mysql's automatic incrementing. Your query would change from
&lt;/p&gt;
&lt;p&gt;
"INSERT INTO $wpdb-&amp;gt;posts
(ID, post_author, post_date, ...)
VALUES
('$post_ID', '$post_author', '$post_date', ...)";
&lt;/p&gt;
&lt;p&gt;
to
&lt;/p&gt;
&lt;p&gt;
"INSERT INTO $wpdb-&amp;gt;posts
(post_author, post_date, ...)
VALUES
('$post_author', '$post_date', ...)";
&lt;/p&gt;
&lt;p&gt;
Doing so causes mysql to automatically update the ID. The current manual process sort of negates auto_increment properties in the table creation schema. Safely handling the auto increment without using the SQL above would require an additional sequence table in mysql which handles IDs OR inserting the row before the post is finished and then modify the values of that row.
&lt;/p&gt;
&lt;p&gt;
How are you to handle this? I would suggest the above SQL corrections. If you require persistance of the row ID after you insert the post, you can always (carefully) use the &lt;a class="ext-link" href="http://us2.php.net/mysql_insert_id"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://us2.php.net/mysql_insert_id&lt;/a&gt; function.
&lt;/p&gt;
&lt;p&gt;
I will gladly provide a patch, however I don't know the entire code base and am not sure why the current method is being used.
&lt;/p&gt;
&lt;p&gt;
This is not an issue when a persistent mysql connection is being used on a non-threaded web server. This is a likely a major issue for apache and a critical issue for environments when PHP is executed as an CGI.
&lt;/p&gt;
</description>
      <category>newticket</category>
    </item><item>
      <title>diff.txt attached to Ticket #1750</title>
      
        <dc:creator>donncha</dc:creator>

      <pubDate>Thu, 13 Oct 2005 16:27:46 GMT</pubDate>
      <link>http://core.trac.wordpress.org/attachment/ticket/1750/diff.txt</link>
      <guid isPermaLink="false">http://core.trac.wordpress.org/attachment/ticket/1750/diff.txt/1129220866000000</guid>
      <description>&lt;p&gt;
wp_insert_category() cleanup
&lt;/p&gt;
</description>
      <category>attachment</category>
    </item>
   </channel>
</rss>